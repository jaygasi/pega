{"version":3,"file":"Aja100_Any_jaygasi_PickListEmoji.c8e0926d.js","mappings":"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","sources":["webpack://j251/./src/components/shared/create-nonce.ts","webpack://j251/./node_modules/@pega/cosmos-react-core/lib/components/Icon/ lazy ^\\.\\/.*\\/.*\\.icon$ namespace object","webpack://j251/./node_modules/@pega/cosmos-react-core/lib/components/Icon/ lazy ^\\.\\/.*\\/.*\\.icon\\.tsx$ namespace object","webpack://j251/./src/components/Any_jaygasi_PickListEmoji/styles.ts","webpack://j251/./src/components/Any_jaygasi_PickListEmoji/index.tsx","webpack://j251/./src/components/Any_jaygasi_PickListEmoji/event-utils.ts","webpack://j251/./src/components/shared/suggestions-handler.ts"],"sourcesContent":["// @ts-ignore\nif (window?.__webpack_nonce__) {\n  // @ts-ignore\n  __webpack_nonce__ = window.__webpack_nonce__;\n}\n","var map = {};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(() => {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 2020;\nmodule.exports = webpackAsyncContext;","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 6935;\nmodule.exports = webpackEmptyAsyncContext;","// individual style, comment out above, and uncomment here and add styles\nimport styled, { css } from 'styled-components';\n\nexport default styled.div(() => {\n  return css`\n    margin: 0px 0;\n    \n    .option-emoji {\n      font-size: 18px;\n      margin-left: 4px;\n      vertical-align: middle;\n    }\n    \n    .display-emoji {\n      font-size: 20px;\n      margin-left: 6px;\n      vertical-align: middle;\n    }\n\n    /* Container for picklist with external emoji */\n    .picklist-with-emoji {\n      display: flex;\n      align-items: flex-end; /* Align to bottom to match select field level */\n      gap: 0.5rem; /* Consistent spacing with other components */\n      position: relative;\n      width: 100%;\n      \n      /* Target the Select component wrapper (first child) */\n      & > div:first-child {\n        flex-grow: 1; /* Allows the select field to take up available space */\n        min-width: 0; /* Allow the select to shrink if needed */\n      }\n      \n      /* External emoji styling - positioned outside the select */\n      .external-emoji {\n        align-self: flex-end; /* Align emoji to bottom to match select field */\n        margin-bottom: 0.15rem; /* Adjust to lower the emoji slightly more */\n        flex-shrink: 0;\n        font-size: 30px;\n        width: 30px;\n        height: 30px;\n        margin: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    }\n  `;\n});\n\nexport const StyledDisplayModeWrapper = styled.div(() => css`\n  display: flex;\n  flex-direction: column;\n`);\n\nexport const StyledDisplayModeLabel = styled.div(() => css`\n  font-weight: 600;\n  margin-bottom: 4px;\n`);\n\nexport const StyledDisplayModeValue = styled.div(() => css`\n  font-size: 14px;\n`);\n\nexport const StyledDisplayModeValueLarge = styled.div(() => css`\n  font-size: 24px;\n  font-weight: 600;\n`);\n\nexport const StyledDisplayModeHelperText = styled.div(() => css`\n  font-size: 12px;\n  color: #666;\n  margin-top: 4px;\n`);\n","import { useState, useEffect, useRef } from 'react';\nimport { Select, Option, withConfiguration, EmailDisplay, PhoneDisplay, URLDisplay } from '@pega/cosmos-react-core';\n\nimport type { PConnFieldProps } from '../shared/PConnProps';\nimport '../shared/create-nonce';\n\n// includes in bundle\nimport handleEvent from \"./event-utils\";\nimport { suggestionsHandler } from '../shared/suggestions-handler';\n\nimport StyledAnyJaygasiPickListEmojiWrapper, {\n  StyledDisplayModeWrapper,\n  StyledDisplayModeLabel,\n  StyledDisplayModeValue,\n  StyledDisplayModeValueLarge,\n  StyledDisplayModeHelperText\n} from './styles';\n\n\n// Interface for emoji value mapping\ninterface EmojiMapping {\n  value: string;\n  emoji: string;\n}\n\n// Interface for emoji configuration\ninterface EmojiConfig {\n  value_emojis: EmojiMapping[];\n}\n\n// Type for the new simplified emoji config format\ntype EmojiConfigArray = EmojiMapping[];\n\n// Helper function to push placeholder option\nconst pushPlaceholderOption = (placeholder: string, listSourceItems: Array<any>, items: Array<any>, pConnect: any) => {\n  // If we have a placeholder, push that option in the list of items\n  if (placeholder) {\n    items.push(\n      <Option key={placeholder} value=''>\n        {pConnect.getLocalizedValue(placeholder)}\n      </Option>\n    );\n  } else if (!listSourceItems) {\n    // If we don't have a placeholder and our list source is empty, push a blank row option in the list of items\n    // @ts-ignore\n    items.push(<Option key='' value='' />);\n  }\n};\n\n// Helper function to find matching emoji for a given value\nconst getEmojiForValue = (value: string, emojiConfig: string | undefined): string | null => {\n  if (!emojiConfig || !value) {\n    return null;\n  }\n\n  try {\n    let parsedConfig;\n    \n    // Handle case where emojiConfig might already be an object\n    if (typeof emojiConfig === 'object') {\n      parsedConfig = emojiConfig;\n    } else {\n      parsedConfig = JSON.parse(emojiConfig);\n    }\n    \n    // Check if it's the new format (direct array)\n    if (Array.isArray(parsedConfig)) {\n      const config: EmojiConfigArray = parsedConfig;\n      const matchingValue = config.find(\n        (item) => item.value.toLowerCase() === value.toLowerCase()\n      );\n      return matchingValue ? matchingValue.emoji : null;\n    }\n    \n    // Check if it's the old format (object with value_emojis)\n    if (parsedConfig.value_emojis && Array.isArray(parsedConfig.value_emojis)) {\n      const config: EmojiConfig = parsedConfig;\n      const matchingValue = config.value_emojis.find(\n        (item) => item.value.toLowerCase() === value.toLowerCase()\n      );\n      return matchingValue ? matchingValue.emoji : null;\n    }\n    \n    console.warn('Invalid emoji configuration format:', parsedConfig);\n    return null;\n  } catch (error) {\n    console.warn('Invalid emoji configuration JSON:', error);\n    return null;\n  }\n};\n\n// Helper function to build items and get selected label\nconst buildItemsAndSelectedLabel = (options: {\n  listSourceItems: any[];\n  isDatapage: boolean;\n  pConnect: any;\n  localePath: string;\n  localeClass: string;\n  localeContext: string;\n  localeName: string;\n  value: any;\n  placeholder: string;\n}) => {\n  const { listSourceItems, isDatapage, pConnect, localePath, localeClass, localeContext, localeName, value, placeholder } = options;\n  const items: Array<any> = [];\n  let selectedLabel = '';\n\n  pushPlaceholderOption(placeholder, listSourceItems, items, pConnect);\n\n  for (const item of listSourceItems || []) {\n    const displayText = isDatapage\n      // @ts-ignore - deprecated signature\n      ? pConnect.getLocalizedValue(\n          item.text,\n          localePath,\n          pConnect.getLocaleRuleNameFromKeys(localeClass, localeContext, localeName)\n        )\n      // @ts-ignore - deprecated signature\n      : pConnect.getLocalizedValue(\n          item.value,\n          localePath,\n          pConnect.getLocaleRuleNameFromKeys(localeClass, localeContext, localeName)\n        );\n    if (\n      value !== undefined &&\n      value !== null &&\n      item.key !== undefined &&\n      item.key !== null &&\n      value.toString() === item.key.toString()\n    ) {\n      selectedLabel = displayText;\n    }\n    \n    // Get emoji for the display text (no longer used in dropdown)\n    // const emoji = getEmojiForValue(displayText, emojiConfig);\n    \n    items.push(\n      // @ts-ignore - Option children type is string but accepts JSX\n      <Option key={item.key} value={item.key}>\n        <span>{displayText}</span>\n      </Option>\n    );\n  }\n\n  return { items, selectedLabel };\n};\n\n// Helper function to render display mode\nconst renderDisplayMode = (options: {\n  selectedLabel: string;\n  value: any;\n  emojiConfig: string | undefined;\n  placeholder: string;\n  displayMode: string;\n  label: string;\n  helperText: string;\n}) => {\n  const { selectedLabel, value, emojiConfig, placeholder, displayMode, label, helperText } = options;\n  \n  const displayValue = selectedLabel || (value ? value.toString() : placeholder);\n  const emoji = getEmojiForValue(displayValue, emojiConfig);\n  \n  if (displayMode === 'LABELS_LEFT') {\n    return (\n      <StyledDisplayModeWrapper>\n        <StyledDisplayModeLabel>{label}</StyledDisplayModeLabel>\n        <StyledDisplayModeValue>\n          <span>{displayValue}</span> {emoji && <span className=\"display-emoji\">{emoji}</span>}\n        </StyledDisplayModeValue>\n      </StyledDisplayModeWrapper>\n    );\n  }\n\n  if (displayMode === 'STACKED_LARGE_VAL') {\n    return (\n      <StyledDisplayModeWrapper>\n        <StyledDisplayModeLabel>{label}</StyledDisplayModeLabel>\n        <StyledDisplayModeValueLarge>\n          <span>{displayValue}</span> {emoji && <span className=\"display-emoji\">{emoji}</span>}\n        </StyledDisplayModeValueLarge>\n        {helperText && <StyledDisplayModeHelperText>{helperText}</StyledDisplayModeHelperText>}\n      </StyledDisplayModeWrapper>\n    );\n  }\n\n  return (\n    <StyledDisplayModeWrapper>\n      <StyledDisplayModeValue>\n        <span>{displayValue}</span> {emoji && <span className=\"display-emoji\">{emoji}</span>}\n      </StyledDisplayModeValue>\n    </StyledDisplayModeWrapper>\n  );\n};\n\n// interface for props\ninterface AnyJaygasiPickListEmojiProps extends PConnFieldProps {\n  // If any, enter additional props that only exist on TextInput here\n  defaultValue: number;\n  isTableFormatter?: boolean;\n  hasSuggestions?: boolean;\n  variant?: any;\n  formatter: string;\n  decimalPrecision: string;\n  allowDecimals: boolean;\n  currencyISOCode: string;\n  alwaysShowISOCode: boolean;\n  isoCodeSelection: string;\n  additionalProps: any;\n  datasource:any;\n  listType: string;\n  fieldMetadata: any;\n  onRecordChange: Function;\n  emojiConfig?: string; // JSON string containing emoji configuration\n}\n\n// interface for StateProps object\ninterface StateProps {\n  value: string;\n  hasSuggestions: boolean;\n}\n\n\nexport const formatExists = (formatterVal: string) => {\n    const formatterValues = [\n      \"TextInput\",\n      \"WorkStatus\",\n      \"RichText\",\n      \"Email\",\n      \"Phone\",\n      \"URL\",\n      \"Operator\"\n    ];\n    let isformatter = false;\n    if (formatterValues.includes(formatterVal)) {\n      isformatter = true;\n    }\n    return isformatter;\n  };\n\n\nexport const textFormatter = (formatter: string,value: any) => {\n  let displayComponent: any = null;\n  switch(formatter){\n    case \"TextInput\" : {\n      displayComponent = value;\n      break;\n    }\n    case \"Email\" : {\n      displayComponent = (<EmailDisplay value={value} displayText={value} variant=\"link\" />);\n      break;\n    }\n    case \"Phone\" : {\n      displayComponent = (<PhoneDisplay value={value} variant=\"link\" />);\n      break;\n    }\n    case \"URL\" : {\n      displayComponent = (<URLDisplay target=\"_blank\" value={value} displayText={value} variant=\"link\" />);\n      break;\n    }\n    // no default\n  }\n  return displayComponent;\n};\n\n\nexport const setDefaultValue = (dropdownOptions: Array<any>, pConnect: any, propName: string) => {\n  // calculate the default option and set it to dropdown\n  const option = dropdownOptions?.[0] || {};\n  const defaultValue = option.key ? option.props.value : '';\n  pConnect.setValue(propName, defaultValue, defaultValue);\n};\n\n\n// Duplicated runtime code from Constellation Design System Component\n\n// props passed in combination of props from property panel (config.json) and run time props from Constellation\n// any default values in config.pros should be set in defaultProps at bottom of this file\nfunction AnyJaygasiPickListEmoji(props: Readonly<AnyJaygasiPickListEmojiProps>) {\n  const {\n    getPConnect,\n    value,\n    label,\n    hideLabel = false,\n    placeholder,\n    datasource = {},\n    listType,\n    validatemessage,\n    testId,\n    helperText,\n    additionalProps = {},\n    displayMode,\n    onRecordChange,\n    fieldMetadata = {},\n    hasSuggestions = false,\n    emojiConfig\n  } = props;\n  \n  // Debug: Log the emojiConfig value\n  console.log('PickListEmoji emojiConfig:', emojiConfig);\n  \n  const pConnect = getPConnect();\n  const actions = pConnect.getActionsApi();\n  const stateProps = pConnect.getStateProps() as StateProps;\n  const propName: string = stateProps.value;\n  const className = pConnect.getCaseInfo().getClassName();\n  const refName = propName?.slice(propName.lastIndexOf('.') + 1);\n\n  let { readOnly = false, required = false, disabled = false } = props;\n  [readOnly, required, disabled] = [readOnly, required, disabled].map(\n    (prop) => prop === true || (typeof prop === 'string' && prop === 'true')\n  );\n\n  const [status, setStatus] = useState(hasSuggestions ? 'pending' : undefined);\n\n  const useIsMount = () => {\n    const isMountRef = useRef(true);\n    useEffect(() => {\n      isMountRef.current = false;\n    }, []);\n    return isMountRef.current;\n  };\n\n  const isMount = useIsMount();\n\n  const metaData = Array.isArray(fieldMetadata)\n    ? fieldMetadata.find((field) => field?.classID === className)\n    : fieldMetadata;\n  let displayName = metaData?.datasource?.propertyForDisplayText;\n  displayName = displayName?.slice(displayName.lastIndexOf('.') + 1);\n  const localeContext = metaData?.datasource?.tableType === 'DataPage' ? 'datapage' : 'associated';\n  const localeClass = localeContext === 'datapage' ? '@baseclass' : className;\n  const localeName = localeContext === 'datapage' ? metaData?.datasource?.name : refName;\n  const localePath = localeContext === 'datapage' ? displayName : '';\n\n  const configProps = pConnect.getConfigProps();\n  const isDatapage = listType === 'datapage';\n  let listSourceItems = isDatapage ? configProps.listOutput : datasource;\n\n  if (isDatapage && typeof datasource === 'object' && !Array.isArray(listSourceItems)) {\n    listSourceItems = datasource.source ? datasource.source : [];\n  }\n\n  useEffect(() => {\n    if (validatemessage) {\n      setStatus('error');\n    }\n    if (hasSuggestions) {\n      setStatus('pending');\n    } else if (status !== 'success') {\n      setStatus(validatemessage ? 'error' : undefined);\n    }\n  }, [validatemessage, hasSuggestions, status]);\n\n  const { items, selectedLabel } = buildItemsAndSelectedLabel({\n    listSourceItems,\n    isDatapage,\n    pConnect,\n    localePath,\n    localeClass,\n    localeContext,\n    localeName,\n    value,\n    placeholder: placeholder as string\n  });\n\n  const isDisplayModeEnabled =\n    displayMode === 'LABELS_LEFT' || displayMode === 'STACKED_LARGE_VAL' || displayMode === 'DISPLAY_ONLY';\n  let firstOptionKey = '';\n  let firstOptionValue = '';\n  if (!placeholder && listSourceItems?.length > 0) {\n    // First option isn't going to change as long as placeholder is present. Incase placeholder is not there\n    // check for new option\n    firstOptionKey = listSourceItems[0].key;\n    firstOptionValue = listSourceItems[0].text || listSourceItems[0].value;\n  }\n  useEffect(() => {\n    // placeholder - placeholder option configured to be shown with dropdown, empty string if not configured\n    // value - value of the dropdown if set to something prior (either by pre-activity or default value etc.), empty string if nothing is set\n    // selectedLabel - is value(the one above) if it is one of the option in the dropdown datasource, empty string if not\n    // below code does this -\n    // set dropdown value to first option if placeholder is NOT present and ((value is empty) or (value is not empty and selectedLabel is empty))\n    // set dropdown value to empty if placeholder is present and value is not empty and selectedLabel is empty\n    // Broken down first option(key, value) to be as dependency instead of entire items array which creates new reference on every render\n    // First option is kept as dependency as setDefaultValue sets only first value from options\n    if (!isDisplayModeEnabled && ((!placeholder && !value) || (!isMount && value && !selectedLabel))) {\n      setDefaultValue(items, pConnect, propName);\n    }\n  }, [firstOptionKey, firstOptionValue, placeholder, selectedLabel, value, propName, isDisplayModeEnabled, isMount, pConnect]);\n\n  if (isDisplayModeEnabled) {\n    return renderDisplayMode({\n      selectedLabel,\n      value,\n      emojiConfig,\n      placeholder: placeholder as string,\n      displayMode,\n      label,\n      helperText\n    });\n  }\n\n  const onResolveSuggestionHandler = (accepted: boolean) => {\n    suggestionsHandler(accepted, pConnect, setStatus);\n  };\n\n\n  // Get the emoji for current value (for external display)\n  const selectedEmoji = getEmojiForValue(selectedLabel || (value ? value.toString() : ''), emojiConfig);\n\n  return (\n    <StyledAnyJaygasiPickListEmojiWrapper>\n      <div className=\"picklist-with-emoji\">\n        <Select\n          {...additionalProps}\n          label={label}\n          labelHidden={hideLabel}\n          info={validatemessage || helperText}\n          status={status}\n          data-testid={testId}\n          // @ts-ignore\n          key={getPConnect().getRawMetadata().config.value}\n          value={value}\n          disabled={disabled}\n          required={required}\n          readOnly={readOnly}\n          onChange={(event) => {\n            handleEvent(actions, 'changeNblur', propName, event.target.value);\n            if (hasSuggestions) {\n              pConnect.ignoreSuggestion('');\n              setStatus(undefined);\n            }\n            if (onRecordChange) {\n              onRecordChange(event);\n            }\n          }}\n          onBlur={(event: any) => {\n            pConnect.getValidationApi().validate(event.target.value);\n          }}\n          onResolveSuggestion={onResolveSuggestionHandler}\n        >\n          {items}\n        </Select>\n        {selectedEmoji && <span className=\"external-emoji\">{selectedEmoji}</span>}\n      </div>\n    </StyledAnyJaygasiPickListEmojiWrapper>\n  );\n}\n\n\n\nexport default withConfiguration(AnyJaygasiPickListEmoji);\n","const handleEvent = (actions: any, eventType: string, propName: string, value: string) => {\n  switch (eventType) {\n    case 'change':\n      actions.updateFieldValue(propName, value);\n      break;\n    case 'blur':\n      actions.triggerFieldChange(propName, value);\n      break;\n    case 'changeNblur':\n      actions.updateFieldValue(propName, value);\n      actions.triggerFieldChange(propName, value);\n      break;\n    default:\n      break;\n  }\n};\n\nexport default handleEvent;\n","export const suggestionsHandler = (accepted: boolean, pConn: any, setStatus: any) => {\n  if (accepted) {\n    pConn.acceptSuggestion();\n    setStatus('success');\n  } else {\n    pConn.ignoreSuggestion();\n    setStatus(undefined);\n  }\n};\n"],"names":["window","__webpack_nonce__","map","webpackAsyncContext","req","Promise","resolve","then","__webpack_require__","o","e","Error","code","keys","Object","id","module","exports","webpackEmptyAsyncContext","styled","div","css","StyledDisplayModeWrapper","StyledDisplayModeLabel","StyledDisplayModeValue","StyledDisplayModeValueLarge","StyledDisplayModeHelperText","getEmojiForValue","value","emojiConfig","parsedConfig","JSON","parse","Array","isArray","matchingValue","find","item","toLowerCase","emoji","value_emojis","console","warn","error","formatExists","formatterVal","isformatter","includes","textFormatter","formatter","displayComponent","_jsx","EmailDisplay","displayText","variant","PhoneDisplay","URLDisplay","target","setDefaultValue","dropdownOptions","pConnect","propName","option","defaultValue","key","props","setValue","withConfiguration","getPConnect","label","hideLabel","placeholder","datasource","listType","validatemessage","testId","helperText","additionalProps","displayMode","onRecordChange","fieldMetadata","hasSuggestions","log","actions","getActionsApi","getStateProps","className","getCaseInfo","getClassName","refName","slice","lastIndexOf","readOnly","required","disabled","prop","status","setStatus","useState","undefined","isMount","useIsMount","isMountRef","useRef","useEffect","current","metaData","field","classID","displayName","propertyForDisplayText","localeContext","tableType","localeClass","localeName","name","localePath","configProps","getConfigProps","isDatapage","listSourceItems","listOutput","source","items","selectedLabel","options","pushPlaceholderOption","push","Option","children","getLocalizedValue","text","getLocaleRuleNameFromKeys","toString","buildItemsAndSelectedLabel","isDisplayModeEnabled","firstOptionKey","firstOptionValue","length","displayValue","_jsxs","renderDisplayMode","selectedEmoji","StyledAnyJaygasiPickListEmojiWrapper","_createElement","Select","labelHidden","info","getRawMetadata","config","onChange","event","handleEvent","eventType","updateFieldValue","triggerFieldChange","ignoreSuggestion","onBlur","getValidationApi","validate","onResolveSuggestion","accepted","suggestionsHandler","pConn","acceptSuggestion"],"sourceRoot":""}