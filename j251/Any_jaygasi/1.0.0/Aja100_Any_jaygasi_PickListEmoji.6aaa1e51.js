(self.webpackChunkj251=self.webpackChunkj251||[]).push([[64398572],{1957:(e,a,t)=>{window?.__webpack_nonce__&&(t.nc=window.__webpack_nonce__)},2020:(e,a,t)=>{var l={};function s(e){return Promise.resolve().then(()=>{if(!t.o(l,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t(l[e])})}s.keys=()=>Object.keys(l),s.id=2020,e.exports=s},6935:e=>{function a(e){return Promise.resolve().then(()=>{var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a})}a.keys=()=>[],a.resolve=a,a.id=6935,e.exports=a},8174:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b,formatExists:()=>j,setDefaultValue:()=>A,textFormatter:()=>y});var l=t(1594),s=t(138),n=t(1847),o=t(7708),i=t(8147),r=t(7251),c=t(1093);t(1957);var d=t(8267);const u=d.Ay.div(()=>d.AH`
    margin: 0px 0;
    
    .option-emoji {
      font-size: 16px;
      margin-left: 4px;
      vertical-align: middle;
    }
    
    .display-emoji {
      font-size: 16px;
      margin-left: 4px;
      vertical-align: middle;
    }
  `),p=d.Ay.div(()=>d.AH`
  display: flex;
  flex-direction: column;
`),g=d.Ay.div(()=>d.AH`
  font-weight: 600;
  margin-bottom: 4px;
`),h=d.Ay.div(()=>d.AH`
  font-size: 14px;
`),m=d.Ay.div(()=>d.AH`
  font-size: 24px;
  font-weight: 600;
`),f=d.Ay.div(()=>d.AH`
  font-size: 12px;
  color: #666;
  margin-top: 4px;
`);var x=t(4848);const v=(e,a)=>{if(!a||!e)return null;try{let t;if(t="object"==typeof a?a:JSON.parse(a),Array.isArray(t)){const a=t.find(a=>a.value.toLowerCase()===e.toLowerCase());return a?a.emoji:null}if(t.value_emojis&&Array.isArray(t.value_emojis)){const a=t.value_emojis.find(a=>a.value.toLowerCase()===e.toLowerCase());return a?a.emoji:null}return console.warn("Invalid emoji configuration format:",t),null}catch(e){return console.warn("Invalid emoji configuration JSON:",e),null}},j=e=>{let a=!1;return["TextInput","WorkStatus","RichText","Email","Phone","URL","Operator"].includes(e)&&(a=!0),a},y=(e,a)=>{let t=null;switch(e){case"TextInput":t=a;break;case"Email":t=(0,x.jsx)(n.A,{value:a,displayText:a,variant:"link"});break;case"Phone":t=(0,x.jsx)(o.A,{value:a,variant:"link"});break;case"URL":t=(0,x.jsx)(i.A,{target:"_blank",value:a,displayText:a,variant:"link"})}return t},A=(e,a,t)=>{const l=e?.[0]||{},s=l.key?l.props.value:"";a.setValue(t,s,s)},b=(0,c.A)(function(e){const{getPConnect:a,value:t,label:n,hideLabel:o=!1,placeholder:i,datasource:c={},listType:d,validatemessage:j,testId:y,helperText:b,additionalProps:L={},displayMode:C,onRecordChange:k,fieldMetadata:_={},hasSuggestions:w=!1,emojiConfig:E}=e;console.log("PickListEmoji emojiConfig:",E);const S=a(),N=S.getActionsApi(),T=S.getStateProps().value,O=S.getCaseInfo().getClassName(),D=T?.slice(T.lastIndexOf(".")+1);let{readOnly:P=!1,required:F=!1,disabled:I=!1}=e;[P,F,I]=[P,F,I].map(e=>!0===e||"string"==typeof e&&"true"===e);const[R,V]=(0,l.useState)(w?"pending":void 0),z=(()=>{const e=(0,l.useRef)(!0);return(0,l.useEffect)(()=>{e.current=!1},[]),e.current})(),H=Array.isArray(_)?_.find(e=>e?.classID===O):_;let M=H?.datasource?.propertyForDisplayText;M=M?.slice(M.lastIndexOf(".")+1);const U="DataPage"===H?.datasource?.tableType?"datapage":"associated",K="datapage"===U?"@baseclass":O,B="datapage"===U?H?.datasource?.name:D,q="datapage"===U?M:"",G=S.getConfigProps(),J="datapage"===d;let Y=J?G.listOutput:c;J&&"object"==typeof c&&!Array.isArray(Y)&&(Y=c.source?c.source:[]),(0,l.useEffect)(()=>{j&&V("error"),w?V("pending"):"success"!==R&&V(j?"error":void 0)},[j,w,R]);const{items:W,selectedLabel:Q}=(e=>{const{listSourceItems:a,isDatapage:t,pConnect:l,localePath:n,localeClass:o,localeContext:i,localeName:r,value:c,emojiConfig:d,placeholder:u}=e,p=[];let g="";((e,a,t,l)=>{e?t.push((0,x.jsx)(s.A,{value:"",children:l.getLocalizedValue(e)},e)):a||t.push((0,x.jsx)(s.A,{value:""},""))})(u,a,p,l);for(const e of a||[]){const a=t?l.getLocalizedValue(e.text,n,l.getLocaleRuleNameFromKeys(o,i,r)):l.getLocalizedValue(e.value,n,l.getLocaleRuleNameFromKeys(o,i,r));null!=c&&void 0!==e.key&&null!==e.key&&c.toString()===e.key.toString()&&(g=a);const u=v(a,d);p.push((0,x.jsx)(s.A,{value:e.key,children:(0,x.jsxs)("span",{children:[a," ",u&&(0,x.jsx)("span",{className:"option-emoji",children:u})]})},e.key))}return{items:p,selectedLabel:g}})({listSourceItems:Y,isDatapage:J,pConnect:S,localePath:q,localeClass:K,localeContext:U,localeName:B,value:t,emojiConfig:E,placeholder:i}),X="LABELS_LEFT"===C||"STACKED_LARGE_VAL"===C||"DISPLAY_ONLY"===C;let Z="",$="";return!i&&Y?.length>0&&(Z=Y[0].key,$=Y[0].text||Y[0].value),(0,l.useEffect)(()=>{X||(i||t)&&(z||!t||Q)||A(W,S,T)},[Z,$,i,Q,t,T,X,z,S]),X?(e=>{const{selectedLabel:a,value:t,emojiConfig:l,placeholder:s,displayMode:n,label:o,helperText:i}=e,r=a||(t?t.toString():s),c=v(r,l);return"LABELS_LEFT"===n?(0,x.jsxs)(p,{children:[(0,x.jsx)(g,{children:o}),(0,x.jsxs)(h,{children:[(0,x.jsx)("span",{children:r})," ",c&&(0,x.jsx)("span",{className:"display-emoji",children:c})]})]}):"STACKED_LARGE_VAL"===n?(0,x.jsxs)(p,{children:[(0,x.jsx)(g,{children:o}),(0,x.jsxs)(m,{children:[(0,x.jsx)("span",{children:r})," ",c&&(0,x.jsx)("span",{className:"display-emoji",children:c})]}),i&&(0,x.jsx)(f,{children:i})]}):(0,x.jsx)(p,{children:(0,x.jsxs)(h,{children:[(0,x.jsx)("span",{children:r})," ",c&&(0,x.jsx)("span",{className:"display-emoji",children:c})]})})})({selectedLabel:Q,value:t,emojiConfig:E,placeholder:i,displayMode:C,label:n,helperText:b}):(0,x.jsx)(u,{children:(0,l.createElement)(r.A,{...L,label:n,labelHidden:o,info:j||b,status:R,"data-testid":y,key:a().getRawMetadata().config.value,value:t,disabled:I,required:F,readOnly:P,onChange:e=>{((e,a,t,l)=>{switch(a){case"change":e.updateFieldValue(t,l);break;case"blur":e.triggerFieldChange(t,l);break;case"changeNblur":e.updateFieldValue(t,l),e.triggerFieldChange(t,l)}})(N,"changeNblur",T,e.target.value),w&&(S.ignoreSuggestion(""),V(void 0)),k&&k(e)},onBlur:e=>{S.getValidationApi().validate(e.target.value)},onResolveSuggestion:e=>{((e,a,t)=>{e?(a.acceptSuggestion(),t("success")):(a.ignoreSuggestion(),t(void 0))})(e,S,V)}},W)})})}}]);
//# sourceMappingURL=Aja100_Any_jaygasi_PickListEmoji.6aaa1e51.js.map