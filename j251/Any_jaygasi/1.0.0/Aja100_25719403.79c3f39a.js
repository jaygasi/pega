"use strict";(self.webpackChunkj251=self.webpackChunkj251||[]).push([[25719403],{3746:(e,t,n)=>{var r=n(6096),o=function(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}(n(1594)),a=function(){return o.createElement(r.Icon,{size:16},o.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},i=function(){return o.createElement(r.Icon,{size:16},o.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},c=function(){return o.createElement(r.Icon,{ignoreDirection:!0,size:16},o.createElement("path",{d:"M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z\n            M23.5,23.5\n            l-5.929-5.929"}))},l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},u={keyword:"",regExp:new RegExp(" "),wholeWords:!1},s=function(e){return{left:"".concat(e.left,"%"),top:"".concat(e.top,"%"),height:"".concat(e.height,"%"),width:"".concat(e.width,"%")}},d=function(e){var t=e.index,n=e.area,a=e.onHighlightKeyword,i=o.useRef();return r.useIsomorphicLayoutEffect(function(){var e=i.current;a&&e&&a({highlightEle:e,keyword:n.keyword})},[]),o.createElement("div",{className:"rpv-search__highlight","data-index":t,ref:i,style:s(n),title:n.keywordStr.trim()})},p=function(e){var t=e.parentNode;t&&t.removeChild(e)},f=function(e){var t=e.parentNode;if(t){var n=document.createRange();n.selectNodeContents(e),function(e,t){p(e);var n=t.parentNode;n&&n.insertBefore(e,t),p(t)}(n.extractContents(),e),t.normalize()}},h=function(e,t){return e.top<t.top?-1:e.top>t.top?1:e.left<t.left?-1:e.left>t.left?1:0},g=function(e){var t=e.numPages,n=e.pageIndex,a=e.renderHighlights,i=e.store,c=e.onHighlightKeyword,l=o.useRef(),p=o.useCallback(function(e){return o.createElement(o.Fragment,null,e.highlightAreas.map(function(e,t){return o.createElement(d,{index:t,key:t,area:e,onHighlightKeyword:c})}))},[]),g=a||p,v=o.useState(i.get("matchPosition")),m=v[0],w=v[1],E=o.useState(i.get("keyword")||[u]),y=E[0],b=E[1],x=o.useState({pageIndex:n,scale:1,status:r.LayerRenderStatus.PreRender}),S=x[0],_=x[1],P=o.useRef(null),k=o.useRef([]),R=o.useState([]),M=R[0],C=R[1],T=function(){return!0},L=o.useCallback(function(){return i.get("targetPageFilter")||T},[i.get("targetPageFilter")]),O=function(e){e&&e.length>0&&b(e)},I=function(e){return w(e)},F=function(e){if(e.has(n)){var t=e.get(n);t&&_({ele:t.ele,pageIndex:n,scale:t.scale,status:t.status})}},D=function(){return 0===y.length||1===y.length&&""===y[0].keyword.trim()};return o.useEffect(function(){if(!D()&&S.status===r.LayerRenderStatus.DidRender&&!k.current.length){var e=S.ele,t=[].slice.call(e.querySelectorAll(".rpv-core__text-layer-text")).map(function(e){return e.textContent}).reduce(function(e,t,n){return e.concat(t.split("").map(function(e,t){return{char:e,charIndexInSpan:t,spanIndex:n}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);k.current=t}},[y,S.status]),o.useEffect(function(){if(!D()&&S.ele&&S.status===r.LayerRenderStatus.DidRender&&L()({pageIndex:n,numPages:t})){var e=function(e){var r=k.current;if(0===r.length)return[];var o=[],a=[].slice.call(e.querySelectorAll(".rpv-core__text-layer-text")),i=r.map(function(e){return e.char}).join("");return y.forEach(function(c){var l=c.keyword;if(l.trim()){for(var u,s=-1===c.regExp.flags.indexOf("g")?new RegExp(c.regExp,"".concat(c.regExp.flags,"g")):c.regExp,d=[];null!==(u=s.exec(i));)d.push({keyword:s,startIndex:u.index,endIndex:s.lastIndex});d.map(function(e){return{keyword:e.keyword,indexes:r.slice(e.startIndex,e.endIndex)}}).forEach(function(r){var i=r.indexes.reduce(function(e,t){return e[t.spanIndex]=(e[t.spanIndex]||[]).concat([t]),e},{});Object.values(i).forEach(function(i){if(1!==i.length||""!==i[0].char.trim()){var u=c.wholeWords?i.slice(1,-1):i,s=function(e,r,o,a,i){var c=document.createRange(),l=a.firstChild;if(!l||l.nodeType!==Node.TEXT_NODE)return null;var u=l.textContent.length,s=i[0].charIndexInSpan,d=1===i.length?s:i[i.length-1].charIndexInSpan;if(s>u||d+1>u)return null;c.setStart(l,s),c.setEnd(l,d+1);var p=document.createElement("span");c.surroundContents(p);var h=p.getBoundingClientRect(),g=o.getBoundingClientRect(),v=g.height,m=g.width,w=100*(h.left-g.left)/m,E=100*(h.top-g.top)/v,y=100*h.height/v,b=100*h.width/m;return f(p),{keyword:r,keywordStr:e,numPages:t,pageIndex:n,left:w,top:E,height:y,width:b,pageHeight:v,pageWidth:m}}(l,r.keyword,e,a[u[0].spanIndex],u);s&&o.push(s)}})})}}),o.sort(h)}(S.ele);C(e)}},[y,m,S.status,k.current]),o.useEffect(function(){D()&&S.ele&&S.status===r.LayerRenderStatus.DidRender&&C([])},[y,S.status]),o.useEffect(function(){if(0!==M.length){var e=l.current;if(m.pageIndex===n&&e&&S.status===r.LayerRenderStatus.DidRender){var t=e.querySelector('.rpv-search__highlight[data-index="'.concat(m.matchIndex,'"]'));if(t){var o=function(e,t){for(var n=e.offsetTop,r=e.offsetLeft,o=e.parentElement;o&&o!==t;)n+=o.offsetTop,r+=o.offsetLeft,o=o.parentElement;return{left:r,top:n}}(t,e),a=o.left,c=o.top,u=i.get("jumpToDestination");u&&(u({pageIndex:n,bottomOffset:(e.getBoundingClientRect().height-c)/S.scale,leftOffset:a/S.scale,scaleTo:S.scale}),P.current&&P.current.classList.remove("rpv-search__highlight--current"),P.current=t,t.classList.add("rpv-search__highlight--current"))}}}},[M,m]),o.useEffect(function(){return i.subscribe("keyword",O),i.subscribe("matchPosition",I),i.subscribe("renderStatus",F),function(){i.unsubscribe("keyword",O),i.unsubscribe("matchPosition",I),i.unsubscribe("renderStatus",F)}},[]),o.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(n),ref:l},g({getCssProperties:s,highlightAreas:M}))},v=function(e){var t,n=e.wholeWords?" ".concat(e.keyword," "):e.keyword,r=e.matchCase?"g":"gi";return{keyword:e.keyword,regExp:new RegExp((t=n,t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),r),wholeWords:e.wholeWords||!1}},m=function(e,t,n){return e instanceof RegExp?{keyword:e.source,regExp:e,wholeWords:n||!1}:"string"==typeof e?""===e?u:v({keyword:e,matchCase:t||!1,wholeWords:n||!1}):(void 0!==t&&(e.matchCase=t),void 0!==n&&(e.wholeWords=n),v(e))},w=function(e){var t,n=e.get("initialKeyword"),a=o.useMemo(function(){if(n&&1===n.length){var e=m(n[0]);return{matchCase:-1===e.regExp.flags.indexOf("i"),wholeWords:e.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),i=function(e){var t=o.useRef(e.get("doc")),n=function(e){t.current=e};return o.useEffect(function(){return e.subscribe("doc",n),function(){e.unsubscribe("doc",n)}},[]),t}(e),c=o.useState(n),l=c[0],s=c[1],d=o.useState([]),p=d[0],f=d[1],h=o.useState(0),g=h[0],v=h[1],w=o.useState(a.matchCase),E=w[0],y=w[1],b=o.useRef([]),x=o.useState(a.wholeWords),S=x[0],_=x[1],P=function(){return!0},k=o.useCallback(function(){return e.get("targetPageFilter")||P},[e.get("targetPageFilter")]),R=function(e){var t=p.length;if(0===l.length||0===t)return null;var n=e===t+1?1:Math.max(1,Math.min(t,e));return v(n),C(p[n-1])},M=function(e){return s(""===e?[]:[e])},C=function(t){var n=e.get("jumpToPage");return n&&n(t.pageIndex),e.update("matchPosition",{matchIndex:t.matchIndex,pageIndex:t.pageIndex}),t},T=function(t,n,o){var a=i.current;if(!a)return Promise.resolve([]);var c=a.numPages,l=t.map(function(e){return m(e,n,o)});return e.update("keyword",l),v(0),f([]),new Promise(function(e,t){var n=0===b.current.length?function(){var e=i.current;if(!e)return Promise.resolve([]);var t=Array(e.numPages).fill(0).map(function(t,n){return r.getPage(e,n).then(function(e){return e.getTextContent()}).then(function(e){var t=e.items.map(function(e){return e.str||""}).join("");return Promise.resolve({pageContent:t,pageIndex:n})})});return Promise.all(t).then(function(e){return e.sort(function(e,t){return e.pageIndex-t.pageIndex}),Promise.resolve(e.map(function(e){return e.pageContent}))})}().then(function(e){return b.current=e,Promise.resolve(e)}):Promise.resolve(b.current);n.then(function(t){var n=[];t.forEach(function(e,t){k()({pageIndex:t,numPages:c})&&l.forEach(function(r){for(var o,a=0;null!==(o=r.regExp.exec(e));)n.push({keyword:r.regExp,matchIndex:a,pageIndex:t,pageText:e,startIndex:o.index,endIndex:r.regExp.lastIndex}),a++})}),f(n),n.length>0&&(v(1),C(n[0])),e(n)})})};return o.useEffect(function(){b.current=[]},[i.current]),{clearKeyword:function(){e.update("keyword",[u]),M(""),v(0),f([]),y(!1),_(!1)},changeMatchCase:function(e){y(e),l.length>0&&T(l,e,S)},changeWholeWords:function(e){_(e),l.length>0&&T(l,E,e)},currentMatch:g,jumpToMatch:R,jumpToNextMatch:function(){return R(g+1)},jumpToPreviousMatch:function(){return R(g-1)},keywords:l,matchCase:E,numberOfMatches:p.length,wholeWords:S,search:function(){return T(l,E,S)},searchFor:T,setKeywords:s,keyword:0===l.length?"":(t=l[0],t instanceof RegExp?t.source:"string"==typeof t?t:t.keyword),setKeyword:M,setTargetPages:function(t){e.update("targetPageFilter",t)}}},E=function(e){var t=e.children,n=e.store,r=w(n),a=o.useState(!1),i=a[0],c=a[1],u=function(e){return c(!0)};return o.useEffect(function(){return n.subscribe("doc",u),function(){n.unsubscribe("doc",u)}},[]),t(l(l({},r),{isDocumentLoaded:i}))},y=function(e){var t=e.containerRef,n=e.store,a=o.useRef(!1),i=function(){a.current=!0},c=function(){a.current=!1},l=function(e){var o=t.current;o&&(e.shiftKey||e.altKey||"f"!==e.key||(r.isMac()?e.metaKey&&!e.ctrlKey:e.ctrlKey)&&(a.current||document.activeElement&&o.contains(document.activeElement))&&(e.preventDefault(),n.update("areShortcutsPressed",!0)))};return o.useEffect(function(){var e=t.current;if(e)return document.addEventListener("keydown",l),e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",c),function(){document.removeEventListener("keydown",l),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",c)}},[t.current]),o.createElement(o.Fragment,null)},b={left:0,top:8},x=function(e){var t=e.store,n=e.onToggle,c=o.useContext(r.LocalizationContext).l10n,l=o.useContext(r.ThemeContext).direction,u=o.useState(!1),s=u[0],d=u[1],p=o.useState(!1),f=p[0],h=p[1],g=l===r.TextDirection.RightToLeft,v=w(t),m=v.clearKeyword,E=v.changeMatchCase,y=v.changeWholeWords,x=v.currentMatch,S=v.jumpToNextMatch,_=v.jumpToPreviousMatch,P=v.keyword,k=v.matchCase,R=v.numberOfMatches,M=v.wholeWords,C=v.search,T=v.setKeyword,L=function(e){d(!0),C().then(function(t){d(!1),h(!0),e&&e()})};o.useEffect(function(){var e=t.get("initialKeyword");e&&1===e.length&&P&&L(function(){t.update("initialKeyword",[])})},[]);var O=c&&c.search?c.search.enterToSearch:"Enter to search",I=c&&c.search?c.search.previousMatch:"Previous match",F=c&&c.search?c.search.nextMatch:"Next match",D=c&&c.search?c.search.close:"Close";return o.createElement("div",{className:"rpv-search__popover"},o.createElement("div",{className:"rpv-search__popover-input-counter"},o.createElement(r.TextBox,{ariaLabel:O,autoFocus:!0,placeholder:O,type:"text",value:P,onChange:function(e){h(!1),T(e)},onKeyDown:function(e){"Enter"===e.key&&P&&(f?S():L())}}),o.createElement("div",{className:r.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!g,"rpv-search__popover-counter--rtl":g})},s&&o.createElement(r.Spinner,{testId:"search__popover-searching",size:"1rem"}),!s&&o.createElement("span",{"data-testid":"search__popover-num-matches"},x,"/",R))),o.createElement("label",{className:"rpv-search__popover-label"},o.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:k,type:"checkbox",onChange:function(e){h(!1),E(e.target.checked)}})," ",c&&c.search?c.search.matchCase:"Match case"),o.createElement("label",{className:"rpv-search__popover-label"},o.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:M,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(e){h(!1),y(e.target.checked)}})," ",c&&c.search?c.search.wholeWords:"Whole words"),o.createElement("div",{className:"rpv-search__popover-footer"},o.createElement("div",{className:"rpv-search__popover-footer-item"},o.createElement(r.Tooltip,{ariaControlsSuffix:"search-previous-match",position:g?r.Position.BottomRight:r.Position.BottomCenter,target:o.createElement(r.MinimalButton,{ariaLabel:I,isDisabled:x<=1,onClick:_},o.createElement(i,null)),content:function(){return I},offset:b})),o.createElement("div",{className:"rpv-search__popover-footer-item"},o.createElement(r.Tooltip,{ariaControlsSuffix:"search-next-match",position:r.Position.BottomCenter,target:o.createElement(r.MinimalButton,{ariaLabel:F,isDisabled:x>R-1,onClick:S},o.createElement(a,null)),content:function(){return F},offset:b})),o.createElement("div",{className:r.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!g,"rpv-search__popover-footer-button--rtl":g})},o.createElement(r.Button,{onClick:function(){n(),m()}},D))))},S=function(e){var t=e.children,n=e.onClick,a=o.useContext(r.LocalizationContext).l10n,i=a&&a.search?a.search.search:"Search";return t({icon:o.createElement(c,null),label:i,onClick:n})},_={left:0,top:8},P=function(e){var t=e.enableShortcuts,n=e.store,a=e.onClick,i=t?r.isMac()?"Meta+F":"Ctrl+F":"",c=function(e){e&&a()};return o.useEffect(function(){return n.subscribe("areShortcutsPressed",c),function(){n.unsubscribe("areShortcutsPressed",c)}},[]),o.createElement(S,{onClick:a},function(e){return o.createElement(r.Tooltip,{ariaControlsSuffix:"search-popover",position:r.Position.BottomCenter,target:o.createElement(r.MinimalButton,{ariaKeyShortcuts:i,ariaLabel:e.label,testId:"search__popover-button",onClick:a},e.icon),content:function(){return e.label},offset:_})})},k={left:0,top:8},R=function(e){var t=e.children,n=e.enableShortcuts,a=e.store,i=o.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft?r.Position.BottomRight:r.Position.BottomLeft,c=t||function(e){return o.createElement(P,l({enableShortcuts:n,store:a},e))};return o.createElement(r.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:i,target:function(e){return c({onClick:e})},content:function(e){return o.createElement(x,{store:a,onToggle:e})},offset:k,closeOnClickOutside:!1,closeOnEscape:!0})},M=function(e){return Array.isArray(e)?e.map(function(e){return m(e)}):[m(e)]};t.NextIcon=a,t.PreviousIcon=i,t.SearchIcon=c,t.searchPlugin=function(e){var t=o.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},e)},[]),n=o.useMemo(function(){return r.createStore({initialKeyword:e&&e.keyword?Array.isArray(e.keyword)?e.keyword:[e.keyword]:[],keyword:e&&e.keyword?M(e.keyword):[u],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),a=w(n),i=a.clearKeyword,c=a.jumpToMatch,s=a.jumpToNextMatch,d=a.jumpToPreviousMatch,p=a.searchFor,f=a.setKeywords,h=a.setTargetPages,v=function(e){return o.createElement(R,l({enableShortcuts:t.enableShortcuts},e,{store:n}))};return{install:function(t){var r=e&&e.keyword?Array.isArray(e.keyword)?e.keyword:[e.keyword]:[],o=e&&e.keyword?M(e.keyword):[u];n.update("initialKeyword",r),n.update("jumpToDestination",t.jumpToDestination),n.update("jumpToPage",t.jumpToPage),n.update("keyword",o)},renderPageLayer:function(r){return o.createElement(g,{key:r.pageIndex,numPages:r.doc.numPages,pageIndex:r.pageIndex,renderHighlights:null==e?void 0:e.renderHighlights,store:n,onHighlightKeyword:t.onHighlightKeyword})},renderViewer:function(e){var r=e.slot;return r.subSlot&&(r.subSlot.children=o.createElement(o.Fragment,null,t.enableShortcuts&&o.createElement(y,{containerRef:e.containerRef,store:n}),r.subSlot.children)),r},uninstall:function(e){var t=n.get("renderStatus");t&&t.clear()},onDocumentLoad:function(e){n.update("doc",e.doc)},onTextLayerRender:function(e){var t=n.get("renderStatus");t&&(t=t.set(e.pageIndex,e),n.update("renderStatus",t))},Search:function(e){return o.createElement(E,l({},e,{store:n}))},ShowSearchPopover:v,ShowSearchPopoverButton:function(){return o.createElement(v,null,function(e){return o.createElement(P,l({enableShortcuts:t.enableShortcuts,store:n},e))})},clearHighlights:function(){i()},highlight:function(e){var t=Array.isArray(e)?e:[e];return f(t),p(t)},jumpToMatch:c,jumpToNextMatch:s,jumpToPreviousMatch:d,setTargetPages:h}}},5099:(e,t,n)=>{e.exports=n(3746)},6096:(e,t,n)=>{e.exports=n(9048)},9048:(e,t,n)=>{var r=n(1594),o=n(748);function a(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var i,c=a(r),l=a(o);t.AnnotationType=void 0,(i=t.AnnotationType||(t.AnnotationType={}))[i.Text=1]="Text",i[i.Link=2]="Link",i[i.FreeText=3]="FreeText",i[i.Line=4]="Line",i[i.Square=5]="Square",i[i.Circle=6]="Circle",i[i.Polygon=7]="Polygon",i[i.Polyline=8]="Polyline",i[i.Highlight=9]="Highlight",i[i.Underline=10]="Underline",i[i.Squiggly=11]="Squiggly",i[i.StrikeOut=12]="StrikeOut",i[i.Stamp=13]="Stamp",i[i.Caret=14]="Caret",i[i.Ink=15]="Ink",i[i.Popup=16]="Popup",i[i.FileAttachment=17]="FileAttachment";var u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},u(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var d,p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)};t.TextDirection=void 0,(d=t.TextDirection||(t.TextDirection={})).RightToLeft="RTL",d.LeftToRight="LTR";var f,h=c.createContext({currentTheme:"light",direction:t.TextDirection.LeftToRight,setCurrentTheme:function(){}}),g=function(e){var t=[];return Object.keys(e).forEach(function(n){n&&e[n]&&t.push(n)}),t.join(" ")},v="undefined"!=typeof window?c.useLayoutEffect:c.useEffect,m=function(e){var t=c.useRef(null),n=e.once,r=e.threshold,o=e.onVisibilityChanged;return v(function(){var e=t.current;if(e){var a=new IntersectionObserver(function(t){t.forEach(function(t){var r=t.isIntersecting,i=t.intersectionRatio;o({isVisible:r,ratio:i}),r&&n&&(a.unobserve(e),a.disconnect())})},{threshold:r||0});return a.observe(e),function(){a.unobserve(e),a.disconnect()}}},[]),t},w=function(e){var n=e.children,r=e.ignoreDirection,o=void 0!==r&&r,a=e.size,i=void 0===a?24:a,l=c.useContext(h).direction,u=!o&&l===t.TextDirection.RightToLeft,s="".concat(i||24,"px");return c.createElement("svg",{"aria-hidden":"true",className:g({"rpv-core__icon":!0,"rpv-core__icon--rtl":u}),focusable:"false",height:s,viewBox:"0 0 24 24",width:s},n)},E=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},y=function(e){var n=e.children,r=e.testId,o=e.onClick,a=c.useContext(h).direction===t.TextDirection.RightToLeft,i=r?{"data-testid":r}:{};return c.createElement("button",p({className:g({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":a}),type:"button",onClick:o},i),n)},b=function(e){var t=e.size,n=void 0===t?"4rem":t,r=e.testId,o=c.useState(!1),a=o[0],i=o[1],l=r?{"data-testid":r}:{},u=m({onVisibilityChanged:function(e){i(e.isVisible)}});return c.createElement("div",p({},l,{className:g({"rpv-core__spinner":!0,"rpv-core__spinner--animating":a}),ref:u,style:{height:n,width:n}}))},x=function(e){var n=e.ariaLabel,r=void 0===n?"":n,o=e.autoFocus,a=void 0!==o&&o,i=e.placeholder,l=void 0===i?"":i,u=e.testId,s=e.type,d=void 0===s?"text":s,f=e.value,m=void 0===f?"":f,w=e.onChange,E=e.onKeyDown,y=void 0===E?function(){}:E,b=c.useContext(h).direction,x=c.useRef(),S=b===t.TextDirection.RightToLeft,_={ref:x,"data-testid":"","aria-label":r,className:g({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":S}),placeholder:l,value:m,onChange:function(e){return w(e.target.value)},onKeyDown:y};return u&&(_["data-testid"]=u),v(function(){if(a){var e=x.current;if(e){var t=window.scrollX,n=window.scrollY;e.focus(),window.scrollTo(t,n)}}},[]),"text"===d?c.createElement("input",p({type:"text"},_)):c.createElement("input",p({type:"password"},_))};!function(e){e[e.ExitFullScreen=0]="ExitFullScreen",e[e.FullScreenChange=1]="FullScreenChange",e[e.FullScreenElement=2]="FullScreenElement",e[e.FullScreenEnabled=3]="FullScreenEnabled",e[e.RequestFullScreen=4]="RequestFullScreen"}(f||(f={}));var S,_={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},P={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},k={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},R="undefined"!=typeof window,M=R&&(f.FullScreenEnabled in document&&_||P.FullScreenEnabled in document&&P||k.FullScreenEnabled in document&&k)||_,C=function(){return R&&M.FullScreenEnabled in document&&!0===document[M.FullScreenEnabled]},T=function(e){return R?e[M.ExitFullScreen]():Promise.resolve({})},L=function(){return R?document[M.FullScreenElement]:null},O=function(e,t){var n=c.useRef(),r=function(){n.current&&clearTimeout(n.current)};return c.useEffect(function(){return function(){return r()}},[]),c.useCallback(function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];r(),n.current=setTimeout(function(){e.apply(void 0,o)},t)},[e,t])},I=function(){var e=c.useRef(!1);return c.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},F=function(e){var t=c.useRef(e);return c.useEffect(function(){t.current=e},[e]),t.current};!function(e){e.NotRenderedYet="NotRenderedYet",e.Rendering="Rendering",e.Rendered="Rendered"}(S||(S={}));var D,N=-9999,A=function(e){var t=e.doc,n=t.numPages,r=t.loadingTask.docId,o=c.useMemo(function(){return Array(n).fill(null).map(function(e,t){return{pageIndex:t,renderStatus:S.NotRenderedYet,visibility:N}})},[r]),a=c.useRef({currentRenderingPage:-1,startRange:0,endRange:n-1,visibilities:o}),i=function(e,t){a.current.visibilities[e].visibility=t};return{getHighestPriorityPage:function(){var e=a.current.visibilities.slice(a.current.startRange,a.current.endRange+1).filter(function(e){return e.visibility>N});if(!e.length)return-1;for(var t=e[0].pageIndex,r=e[e.length-1].pageIndex,o=e.length,i=0;i<o;i++){if(e[i].renderStatus===S.Rendering)return-1;if(e[i].renderStatus===S.NotRenderedYet)return e[i].pageIndex}return r+1<n&&a.current.visibilities[r+1].renderStatus!==S.Rendered?r+1:t-1>=0&&a.current.visibilities[t-1].renderStatus!==S.Rendered?t-1:-1},isInRange:function(e){return e>=a.current.startRange&&e<=a.current.endRange},markNotRendered:function(){for(var e=0;e<n;e++)a.current.visibilities[e].renderStatus=S.NotRenderedYet},markRendered:function(e){a.current.visibilities[e].renderStatus=S.Rendered},markRendering:function(e){-1!==a.current.currentRenderingPage&&a.current.currentRenderingPage!==e&&a.current.visibilities[a.current.currentRenderingPage].renderStatus===S.Rendering&&(a.current.visibilities[a.current.currentRenderingPage].renderStatus=S.NotRenderedYet),a.current.visibilities[e].renderStatus=S.Rendering,a.current.currentRenderingPage=e},setOutOfRange:function(e){i(e,N)},setRange:function(e,t){a.current.startRange=e,a.current.endRange=t;for(var r=0;r<n;r++)(r<e||r>t)&&(a.current.visibilities[r].visibility=N,a.current.visibilities[r].renderStatus=S.NotRenderedYet)},setVisibility:i}},H={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},V=c.createContext({l10n:H,setL10n:function(){}}),B=0,z=function(){return B++},W=function(e,t,n){var r=function(e){var r=t.current;if(r){var o=e.target;if(o instanceof Element&&o.shadowRoot){var a=e.composedPath();a.length>0&&!r.contains(a[0])&&n()}else r.contains(o)||n()}};c.useEffect(function(){if(e){var t={capture:!0};return document.addEventListener("click",r,t),function(){document.removeEventListener("click",r,t)}}},[])},j=function(e){var t=function(t){"Escape"===t.key&&e()};c.useEffect(function(){return document.addEventListener("keyup",t),function(){document.removeEventListener("keyup",t)}},[])},q=function(e){var n=e.ariaControlsSuffix,r=e.children,o=e.closeOnClickOutside,a=e.closeOnEscape,i=e.onToggle,l=c.useRef(),u=c.useContext(h).direction===t.TextDirection.RightToLeft;return c.useEffect(function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}},[]),j(function(){l.current&&a&&i()}),W(o,l,i),v(function(){var e=l.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight="".concat(t,"px"))}},[]),c.createElement("div",{"aria-modal":"true",className:g({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":u}),id:"rpv-core__modal-body-".concat(n),ref:l,role:"dialog",tabIndex:-1},r)},K=function(e){var t=e.children;return c.createElement("div",{className:"rpv-core__modal-overlay"},t)};t.ToggleStatus=void 0,(D=t.ToggleStatus||(t.ToggleStatus={})).Close="Close",D.Open="Open",D.Toggle="Toggle";var U,Z=function(e){var n=c.useState(e),r=n[0],o=n[1];return{opened:r,toggle:function(e){switch(e){case t.ToggleStatus.Close:o(!1);break;case t.ToggleStatus.Open:o(!0);break;case t.ToggleStatus.Toggle:default:o(function(e){return!e})}}}},J=function(e){var t=e.content,n=e.isOpened,r=void 0!==n&&n,o=e.target,a=Z(r),i=a.opened,l=a.toggle;return c.createElement(c.Fragment,null,o&&o(l,i),i&&t(l))};t.Position=void 0,(U=t.Position||(t.Position={})).TopLeft="TOP_LEFT",U.TopCenter="TOP_CENTER",U.TopRight="TOP_RIGHT",U.RightTop="RIGHT_TOP",U.RightCenter="RIGHT_CENTER",U.RightBottom="RIGHT_BOTTOM",U.BottomLeft="BOTTOM_LEFT",U.BottomCenter="BOTTOM_CENTER",U.BottomRight="BOTTOM_RIGHT",U.LeftTop="LEFT_TOP",U.LeftCenter="LEFT_CENTER",U.LeftBottom="LEFT_BOTTOM";var G,Y,X,Q,$,ee,te,ne,re=function(e,n,r,o,a){v(function(){var i=n.current,c=e.current,l=r.current;if(c&&i&&l){var u=l.getBoundingClientRect(),s=function(e,n,r,o){var a=n.getBoundingClientRect(),i=e.getBoundingClientRect(),c=i.height,l=i.width,u=0,s=0;switch(r){case t.Position.TopLeft:u=a.top-c,s=a.left;break;case t.Position.TopCenter:u=a.top-c,s=a.left+a.width/2-l/2;break;case t.Position.TopRight:u=a.top-c,s=a.left+a.width-l;break;case t.Position.RightTop:u=a.top,s=a.left+a.width;break;case t.Position.RightCenter:u=a.top+a.height/2-c/2,s=a.left+a.width;break;case t.Position.RightBottom:u=a.top+a.height-c,s=a.left+a.width;break;case t.Position.BottomLeft:u=a.top+a.height,s=a.left;break;case t.Position.BottomCenter:u=a.top+a.height,s=a.left+a.width/2-l/2;break;case t.Position.BottomRight:u=a.top+a.height,s=a.left+a.width-l;break;case t.Position.LeftTop:u=a.top,s=a.left-l;break;case t.Position.LeftCenter:u=a.top+a.height/2-c/2,s=a.left-l;break;case t.Position.LeftBottom:u=a.top+a.height-c,s=a.left-l}return{left:s+(o.left||0),top:u+(o.top||0)}}(c,i,o,a),d=s.top,p=s.left;c.style.top="".concat(d-u.top,"px"),c.style.left="".concat(p-u.left,"px")}},[])},oe=function(e){var n,r=e.customClassName,o=e.position;return c.createElement("div",{className:g((n={"rpv-core__arrow":!0,"rpv-core__arrow--tl":o===t.Position.TopLeft,"rpv-core__arrow--tc":o===t.Position.TopCenter,"rpv-core__arrow--tr":o===t.Position.TopRight,"rpv-core__arrow--rt":o===t.Position.RightTop,"rpv-core__arrow--rc":o===t.Position.RightCenter,"rpv-core__arrow--rb":o===t.Position.RightBottom,"rpv-core__arrow--bl":o===t.Position.BottomLeft,"rpv-core__arrow--bc":o===t.Position.BottomCenter,"rpv-core__arrow--br":o===t.Position.BottomRight,"rpv-core__arrow--lt":o===t.Position.LeftTop,"rpv-core__arrow--lc":o===t.Position.LeftCenter,"rpv-core__arrow--lb":o===t.Position.LeftBottom},n["".concat(r)]=""!==r,n))})},ae=function(e){var n=e.ariaControlsSuffix,r=e.children,o=e.closeOnClickOutside,a=e.offset,i=e.position,l=e.targetRef,u=e.onClose,s=c.useRef(),d=c.useRef(),p=c.useRef(),f=c.useContext(h).direction===t.TextDirection.RightToLeft;W(o,s,u),re(s,l,p,i,a),v(function(){var e=d.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight="".concat(t,"px"))}},[]);var m="rpv-core__popover-body-inner-".concat(n);return c.createElement(c.Fragment,null,c.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),c.createElement("div",{"aria-describedby":m,className:g({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":f}),id:"rpv-core__popover-body-".concat(n),ref:s,role:"dialog",tabIndex:-1},c.createElement(oe,{customClassName:"rpv-core__popover-body-arrow",position:i}),c.createElement("div",{id:m,ref:d},r)))},ie=function(e){var t=e.closeOnEscape,n=e.onClose,r=c.useRef();return j(function(){r.current&&t&&n()}),c.createElement("div",{className:"rpv-core__popover-overlay",ref:r})},ce=function(e){var n=e.ariaControlsSuffix,r=e.children,o=e.contentRef,a=e.offset,i=e.position,l=e.targetRef,u=c.useRef(),s=c.useContext(h).direction===t.TextDirection.RightToLeft;return re(o,l,u,i,a),c.createElement(c.Fragment,null,c.createElement("div",{ref:u,style:{left:0,position:"absolute",top:0}}),c.createElement("div",{className:g({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":s}),id:"rpv-core__tooltip-body-".concat(n),ref:o,role:"tooltip"},c.createElement(oe,{customClassName:"rpv-core__tooltip-body-arrow",position:i}),c.createElement("div",{className:"rpv-core__tooltip-body-content"},r)))};t.FullScreenMode=void 0,(G=t.FullScreenMode||(t.FullScreenMode={})).Normal="Normal",G.Entering="Entering",G.Entered="Entered",G.EnteredCompletely="EnteredCompletely",G.Exitting="Exitting",G.Exited="Exited",t.LayerRenderStatus=void 0,(Y=t.LayerRenderStatus||(t.LayerRenderStatus={}))[Y.PreRender=0]="PreRender",Y[Y.DidRender=1]="DidRender",t.PageMode=void 0,(X=t.PageMode||(t.PageMode={})).Attachments="UseAttachments",X.Bookmarks="UseOutlines",X.ContentGroup="UseOC",X.Default="UserNone",X.FullScreen="FullScreen",X.Thumbnails="UseThumbs",t.PasswordStatus=void 0,(Q=t.PasswordStatus||(t.PasswordStatus={})).RequiredPassword="RequiredPassword",Q.WrongPassword="WrongPassword",t.RotateDirection=void 0,($=t.RotateDirection||(t.RotateDirection={})).Backward="Backward",$.Forward="Forward",t.ScrollMode=void 0,(ee=t.ScrollMode||(t.ScrollMode={})).Page="Page",ee.Horizontal="Horizontal",ee.Vertical="Vertical",ee.Wrapped="Wrapped",t.SpecialZoomLevel=void 0,(te=t.SpecialZoomLevel||(t.SpecialZoomLevel={})).ActualSize="ActualSize",te.PageFit="PageFit",te.PageWidth="PageWidth",t.ViewMode=void 0,(ne=t.ViewMode||(t.ViewMode={})).DualPage="DualPage",ne.DualPageWithCover="DualPageWithCover",ne.SinglePage="SinglePage";var le,ue=function(e,t){return e.reduce(function(e,n,r){return r%t?e[e.length-1].push(n):e.push([n]),e},[])},se=function(e,n){switch(n[1].name){case"XYZ":return{bottomOffset:function(e,t){return null===n[3]?t:n[3]},leftOffset:function(e,t){return null===n[2]?0:n[2]},pageIndex:e,scaleTo:n[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:t.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:n[2],leftOffset:0,pageIndex:e,scaleTo:t.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:1}}},de=new Map,pe=new Map,fe=function(e,t){return"".concat(e.loadingTask.docId,"___").concat(t.num,"R").concat(0===t.gen?"":t.gen)},he=function(e,t,n){de.set(fe(e,t),n)},ge=function(e,t){if(!e)return Promise.reject("The document is not loaded yet");var n="".concat(e.loadingTask.docId,"___").concat(t),r=pe.get(n);return r?Promise.resolve(r):new Promise(function(r,o){e.getPage(t+1).then(function(o){pe.set(n,o),o.ref&&he(e,o.ref,t),r(o)})})},ve=function(e,t){return new Promise(function(n){new Promise(function(n){"string"==typeof t?e.getDestination(t).then(function(e){n(e)}):n(t)}).then(function(r){if("object"==typeof r[0]&&null!==r[0]){var o=r[0],a=function(e,t){var n=fe(e,t);return de.has(n)?de.get(n):null}(e,o);null===a?e.getPageIndex(o).then(function(r){he(e,o,r),ve(e,t).then(function(e){return n(e)})}):n(se(a,r))}else{var i=se(r[0],r);n(i)}})})};!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(le||(le={}));var me,we=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Ee=function(e,t,n,r){var o=parseInt(e,10);return o>=t&&o<=n?o:r},ye=function(e){return e.contentsObj?e.contentsObj.str:e.contents||""},be=function(e){return e.titleObj?e.titleObj.str:e.title||""},xe=function(e){var n=e.annotation,r=c.useContext(h).direction,o=be(n),a=ye(n),i=r===t.TextDirection.RightToLeft,l=c.useRef(),u="";if(n.modificationDate){var s=function(e){var t=we.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=Ee(t[2],1,12,1)-1,o=Ee(t[3],1,31,1),a=Ee(t[4],0,23,0),i=Ee(t[5],0,59,0),c=Ee(t[6],0,59,0),l=t[7]||"Z",u=Ee(t[8],0,23,0),s=Ee(t[9],0,59,0);switch(l){case"-":a+=u,i+=s;break;case"+":a-=u,i-=s}return new Date(Date.UTC(n,r,o,a,i,c))}(n.modificationDate);u=s?"".concat(s.toLocaleDateString(),", ").concat(s.toLocaleTimeString()):""}return c.useLayoutEffect(function(){if(l.current){var e=document.querySelector('[data-annotation-id="'.concat(n.id,'"]'));if(e){var t=e;return t.style.zIndex+=1,function(){t.style.zIndex="".concat(parseInt(t.style.zIndex,10)-1)}}}},[]),c.createElement("div",{ref:l,className:g({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":i}),style:{top:n.annotationType===t.AnnotationType.Popup?"":"100%"}},o&&c.createElement(c.Fragment,null,c.createElement("div",{className:g({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!i,"rpv-core__annotation-popup-title--rtl":i})},o),c.createElement("div",{className:"rpv-core__annotation-popup-date"},u)),a&&c.createElement("div",{className:"rpv-core__annotation-popup-content"},a.split("\n").map(function(e,t){return c.createElement(c.Fragment,{key:t},e,c.createElement("br",null))})))};!function(e){e.Click="Click",e.Hover="Hover"}(me||(me={}));var Se,_e=function(e){var n,r=e.annotation,o=e.children,a=e.ignoreBorder,i=e.hasPopup,l=e.isRenderable,u=e.page,s=e.viewport,d=r.rect,p=function(){var e=Z(!1),n=e.opened,r=e.toggle,o=c.useState(me.Hover),a=o[0],i=o[1];return{opened:n,closeOnHover:function(){a===me.Hover&&r(t.ToggleStatus.Close)},openOnHover:function(){a===me.Hover&&r(t.ToggleStatus.Open)},toggleOnClick:function(){switch(a){case me.Click:n&&i(me.Hover),r(t.ToggleStatus.Toggle);break;case me.Hover:i(me.Click),r(t.ToggleStatus.Open)}}}}(),f=p.closeOnHover,h=p.opened,g=p.openOnHover,v=p.toggleOnClick,m=(n=[d[0],u.view[3]+u.view[1]-d[1],d[2],u.view[3]+u.view[1]-d[3]],[Math.min(n[0],n[2]),Math.min(n[1],n[3]),Math.max(n[0],n[2]),Math.max(n[1],n[3])]),w=d[2]-d[0],E=d[3]-d[1],y={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!a&&r.borderStyle.width>0){switch(r.borderStyle.style){case le.Dashed:y.borderStyle="dashed";break;case le.Solid:y.borderStyle="solid";break;case le.Underline:y=Object.assign({borderBottomStyle:"solid"},y);case le.Beveled:case le.Inset:}var b=r.borderStyle.width;y.borderWidth="".concat(b,"px"),r.borderStyle.style!==le.Underline&&(w-=2*b,E-=2*b);var x=r.borderStyle,S=x.horizontalCornerRadius,_=x.verticalCornerRadius;(S>0||_>0)&&(y.borderRadius="".concat(S,"px / ").concat(_,"px")),r.color?y.borderColor="rgb(".concat(0|r.color[0],", ").concat(0|r.color[1],", ").concat(0|r.color[2],")"):y.borderWidth="0"}return c.createElement(c.Fragment,null,l&&o({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:v},slot:{attrs:{style:Object.assign({height:"".concat(E,"px"),left:"".concat(m[0],"px"),top:"".concat(m[1],"px"),transform:"matrix(".concat(s.transform.join(","),")"),transformOrigin:"-".concat(m[0],"px -").concat(m[1],"px"),width:"".concat(w,"px")},y)},children:c.createElement(c.Fragment,null,i&&h&&c.createElement(xe,{annotation:r}))}}))},Pe=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i);return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},ke=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],d=u[3]-u[1],f=t.borderStyle.width;return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),c.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(d),width:"".concat(s,"px")},c.createElement("circle",{cy:d/2,fill:"none",rx:s/2-f/2,ry:d/2-f/2,stroke:"transparent",strokeWidth:f||1})),e.slot.children)})},Re=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=be(t),a=ye(t),i=!(!1!==t.hasPopup||!o&&!a),l=function(){var e,n,r,o,a=t.file;a&&(e=a.filename,r="string"==typeof(n=a.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(o=document.createElement("a")).style.display="none",o.href=r||e,o.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(o),o.click(),document.body.removeChild(o),r&&URL.revokeObjectURL(r))};return c.createElement(_e,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:l,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},Me=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i);return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},Ce=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=be(t),a=ye(t),i=!(!o&&!a),l=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return v(function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'.concat(t.parentId,'"]')),n=document.querySelector('[data-annotation-id="'.concat(t.id,'"]'));if(e&&n){var r=parseFloat(e.style.left),o=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left="".concat(r,"px"),n.style.top="".concat(o,"px"),n.style.transformOrigin="-".concat(r,"px -").concat(o,"px")}}},[]),c.createElement(_e,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:i,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":t.id}),c.createElement(xe,{annotation:t}))})},Te=function(e){var n=e.annotation,r=e.childAnnotation,o=e.page,a=e.viewport,i=!1===n.hasPopup,l=be(n),u=ye(n),s=!!(n.hasPopup||l||u);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map(function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})});return c.createElement(c.Fragment,null,d.map(function(e,t){return c.createElement(Te,{key:t,annotation:e,childAnnotation:r,page:o,viewport:a})}))}return c.createElement(_e,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:o,viewport:a},function(e){return c.createElement(c.Fragment,null,c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),r&&r.annotationType===t.AnnotationType.Popup&&e.popup.opened&&c.createElement(Ce,{annotation:r,page:o,viewport:a}))})},Le=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],d=u[3]-u[1],f=t.borderStyle.width;return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&c.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(d),width:"".concat(s,"px")},t.inkLists.map(function(e,t){return c.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:f||1,points:e.map(function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)}).join(" ")})})),e.slot.children)})},Oe=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],d=u[3]-u[1],f=t.borderStyle.width;return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),c.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(d),width:"".concat(s,"px")},c.createElement("line",{stroke:"transparent",strokeWidth:f||1,x1:u[2]-t.lineCoordinates[0],x2:u[2]-t.lineCoordinates[2],y1:u[3]-t.lineCoordinates[1],y2:u[3]-t.lineCoordinates[3]})),e.slot.children)})},Ie=/^([^\w]*)(javascript|data|vbscript)/im,Fe=/&#(\w+)(^\w|;)?/g,De=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Ne=/^([^:]+):/gm,Ae=function(e){var t,n=e.annotation,r=e.annotationContainerRef,o=e.doc,a=e.outlines,i=e.page,l=e.pageIndex,u=e.scale,s=e.viewport,d=e.onExecuteNamedAction,f=e.onJumpFromLinkAnnotation,h=e.onJumpToDest,g=c.useRef(),v=a&&a.length&&n.dest&&"string"==typeof n.dest?null===(t=a.find(function(e){return e.dest===n.dest}))||void 0===t?void 0:t.title:"",m=!!(n.url||n.dest||n.action||n.unsafeUrl),w={};if(n.url||n.unsafeUrl){var E=function(e,t){void 0===t&&(t="about:blank");var n,r=(n=e||"",n.replace(Fe,function(e,t){return String.fromCharCode(t)})).replace(De,"").trim();if(!r)return t;var o=r[0];if("."===o||"/"===o)return r;var a=r.match(Ne);if(!a)return r;var i=a[0];return Ie.test(i)?t:r}(n.url||n.unsafeUrl,"");E?w={"data-target":"external",href:E,rel:"noopener noreferrer nofollow",target:n.newWindow?"_blank":"",title:E}:m=!1}else w={href:"","data-annotation-link":n.id,onClick:function(e){e.preventDefault(),n.action?d(n.action):ve(o,n.dest).then(function(e){var t=g.current,n=r.current;if(t&&n){var o=t.getBoundingClientRect();n.style.setProperty("height","100%"),n.style.setProperty("width","100%");var a=n.getBoundingClientRect();n.style.removeProperty("height"),n.style.removeProperty("width");var i=(o.left-a.left)/u,c=(a.bottom-o.bottom+o.height)/u;f({bottomOffset:c,label:v,leftOffset:i,pageIndex:l})}h(e)})}};return v&&(w=Object.assign({},w,{title:v,"aria-label":v})),c.createElement(_e,{annotation:n,hasPopup:!1,ignoreBorder:!1,isRenderable:m,page:i,viewport:s},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":n.id,"data-testid":"core__annotation--link-".concat(n.id)}),c.createElement("a",p({ref:g},w)))})},He=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],d=u[3]-u[1],f=t.borderStyle.width;return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&c.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(d),width:"".concat(s,"px")},c.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:f||1,points:t.vertices.map(function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)}).join(" ")})),e.slot.children)})},Ve=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],d=u[3]-u[1],f=t.borderStyle.width;return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&c.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(d),width:"".concat(s,"px")},c.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:f||1,points:t.vertices.map(function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)}).join(" ")})),e.slot.children)})},Be=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],d=u[3]-u[1],f=t.borderStyle.width;return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),c.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(d),width:"".concat(s,"px")},c.createElement("rect",{height:d-f,fill:"none",stroke:"transparent",strokeWidth:f||1,x:f/2,y:f/2,width:s-f})),e.slot.children)})},ze=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i);return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},We=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i);return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},je=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i);return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},qe=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),c.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),c.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),c.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Ke=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),c.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),c.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),c.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),c.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),c.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),c.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),c.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),c.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),c.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Ue=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),c.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Ze=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),c.createElement("path",{d:"M6 4.5L6 0.5"}),c.createElement("path",{d:"M18 4.5L18 0.5"}),c.createElement("path",{d:"M10 4.5L10 0.5"}),c.createElement("path",{d:"M14 4.5L14 0.5"}))},Je=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),c.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),c.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Ge=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Ye=function(e){var n=e.annotation,r=e.childAnnotation,o=e.page,a=e.viewport,i=!1===n.hasPopup,l=be(n),u=ye(n),s=!!(n.hasPopup||l||u),d=n.name?n.name.toLowerCase():"";return c.createElement(_e,{annotation:n,hasPopup:i,ignoreBorder:!1,isRenderable:s,page:o,viewport:a},function(e){return c.createElement(c.Fragment,null,c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&c.createElement("div",{className:"rpv-core__annotation-text-icon"},"check"===d&&c.createElement(E,null),"comment"===d&&c.createElement(qe,null),"help"===d&&c.createElement(Ke,null),"insert"===d&&c.createElement(Ge,null),"key"===d&&c.createElement(Ue,null),"note"===d&&c.createElement(Ze,null),("newparagraph"===d||"paragraph"===d)&&c.createElement(Je,null)),e.slot.children),r&&r.annotationType===t.AnnotationType.Popup&&e.popup.opened&&c.createElement(Ce,{annotation:r,page:o,viewport:a}))})},Xe=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=be(t),i=ye(t),l=!!(t.hasPopup||a||i);return c.createElement(_e,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",p({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},Qe=function(e){var n=e.annotations,r=e.doc,o=e.outlines,a=e.page,i=e.pageIndex,l=e.plugins,u=e.rotation,s=e.scale,d=e.onExecuteNamedAction,p=e.onJumpFromLinkAnnotation,f=e.onJumpToDest,h=c.useRef(),g=a.getViewport({rotation:u,scale:s}).clone({dontFlip:!0}),m=n.filter(function(e){return!e.parentId});return v(function(){var e=h.current;e&&l.forEach(function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:m,container:e,pageIndex:i,rotation:u,scale:s})})},[]),c.createElement("div",{ref:h,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(i)},m.map(function(e){var l=n.find(function(t){return t.parentId===e.id});switch(e.annotationType){case t.AnnotationType.Caret:return c.createElement(Pe,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.Circle:return c.createElement(ke,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.FileAttachment:return c.createElement(Re,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.FreeText:return c.createElement(Me,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.Highlight:return c.createElement(Te,{key:e.id,annotation:e,childAnnotation:l,page:a,viewport:g});case t.AnnotationType.Ink:return c.createElement(Le,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.Line:return c.createElement(Oe,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.Link:return c.createElement(Ae,{key:e.id,annotation:e,annotationContainerRef:h,doc:r,outlines:o,page:a,pageIndex:i,scale:s,viewport:g,onExecuteNamedAction:d,onJumpFromLinkAnnotation:p,onJumpToDest:f});case t.AnnotationType.Polygon:return c.createElement(He,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.Polyline:return c.createElement(Ve,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.Popup:return c.createElement(Ce,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.Square:return c.createElement(Be,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.Squiggly:return c.createElement(ze,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.Stamp:return c.createElement(We,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.StrikeOut:return c.createElement(je,{key:e.id,annotation:e,page:a,viewport:g});case t.AnnotationType.Text:return c.createElement(Ye,{key:e.id,annotation:e,childAnnotation:l,page:a,viewport:g});case t.AnnotationType.Underline:return c.createElement(Xe,{key:e.id,annotation:e,page:a,viewport:g});default:return c.createElement(c.Fragment,{key:e.id})}}))},$e=function(e){var t=e.page,n=e.renderAnnotations,r=I(),o=c.useState({loading:!0,annotations:[]}),a=o[0],i=o[1];return c.useEffect(function(){t.getAnnotations({intent:"display"}).then(function(e){r.current&&i({loading:!1,annotations:e})})},[]),a.loading?c.createElement(c.Fragment,null):n(a.annotations)},et=function(e){var t=e.doc,n=e.outlines,r=e.page,o=e.pageIndex,a=e.plugins,i=e.rotation,l=e.scale,u=e.onExecuteNamedAction,s=e.onJumpFromLinkAnnotation,d=e.onJumpToDest;return c.createElement($e,{page:r,renderAnnotations:function(e){return c.createElement(Qe,{annotations:e,doc:t,outlines:n,page:r,pageIndex:o,plugins:a,rotation:i,scale:l,onExecuteNamedAction:u,onJumpFromLinkAnnotation:s,onJumpToDest:d})}})},tt=function(e,t){var n=e%t;return 0===n?e:Math.floor(e-n)},nt=function(e){var n=e.canvasLayerRef,r=e.height,o=e.page,a=e.pageIndex,i=e.plugins,l=e.rotation,u=e.scale,s=e.width,d=e.onRenderCanvasCompleted,p=c.useRef();return v(function(){var e=p.current;e&&e.cancel();var r=n.current;r.removeAttribute("data-testid"),i.forEach(function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:l,scale:u,status:t.LayerRenderStatus.PreRender})});var c=o.getViewport({rotation:l,scale:u}),s=window.devicePixelRatio||1,f=Math.sqrt(16777216/(c.width*c.height)),h=s>f;h?r.style.transform="scale(1, 1)":r.style.removeProperty("transform");var g=Math.min(f,s),v=function(e){var t,n;if(Math.floor(e)===e)return[e,1];var r=1/e;if(r>8)return[1,8];if(Math.floor(r)===r)return[1,r];for(var o=e>1?r:e,a=0,i=1,c=1,l=1;;){var u=a+c,s=i+l;if(s>8)break;o<=u/s?(c=(t=[u,s])[0],l=t[1]):(a=(n=[u,s])[0],i=n[1])}return o<(a/i+c/l)/2?o===e?[a,i]:[i,a]:o===e?[c,l]:[l,c]}(g),m=v[0],w=v[1];r.width=tt(c.width*g,m),r.height=tt(c.height*g,m),r.style.width="".concat(tt(c.width,w),"px"),r.style.height="".concat(tt(c.height,w),"px"),r.hidden=!0;var E=r.getContext("2d",{alpha:!1}),y=h||1!==s?[g,0,0,g,0,0]:null;return p.current=o.render({canvasContext:E,transform:y,viewport:c}),p.current.promise.then(function(){r.hidden=!1,r.setAttribute("data-testid","core__canvas-layer-".concat(a)),i.forEach(function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:l,scale:u,status:t.LayerRenderStatus.DidRender})}),d()},function(){d()}),function(){r&&(r.width=0,r.height=0)}},[]),c.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(r,"px"),width:"".concat(s,"px")}},c.createElement("canvas",{ref:n}))},rt=function(e){var t=e.height,n=e.page,r=e.rotation,o=e.scale,a=e.width,i=c.useRef();return v(function(){var e=i.current,c=n.getViewport({rotation:r,scale:o});n.getOperatorList().then(function(r){!function(){var e=i.current;e&&(e.innerHTML="")}(),new l.SVGGraphics(n.commonObjs,n.objs).getSVG(r,c).then(function(n){n.style.height="".concat(t,"px"),n.style.width="".concat(a,"px"),e.appendChild(n)})})},[]),c.createElement("div",{className:"rpv-core__svg-layer",ref:i})},ot=function(e){var n=e.containerRef,r=e.page,o=e.pageIndex,a=e.plugins,i=e.rotation,u=e.scale,s=e.onRenderTextCompleted,d=c.useRef(),p=function(){var e=n.current;e&&([].slice.call(e.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(t){return e.removeChild(t)}),[].slice.call(e.querySelectorAll('br[role="presentation"]')).forEach(function(t){return e.removeChild(t)}))};return v(function(){var e=d.current;e&&e.cancel();var c=n.current;if(c){c.removeAttribute("data-testid");var f=r.getViewport({rotation:i,scale:u});return a.forEach(function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:c,pageIndex:o,scale:u,status:t.LayerRenderStatus.PreRender})}),r.getTextContent().then(function(e){p(),d.current=l.renderTextLayer({container:c,textContent:e,textContentSource:e,viewport:f}),d.current.promise.then(function(){c.setAttribute("data-testid","core__text-layer-".concat(o)),[].slice.call(c.children).forEach(function(e){e.classList.contains("rpv-core__text-layer-text--not")||e.classList.add("rpv-core__text-layer-text")}),a.forEach(function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:c,pageIndex:o,scale:u,status:t.LayerRenderStatus.DidRender})}),s()},function(){c.removeAttribute("data-testid"),s()})}),function(){var e;p(),null===(e=d.current)||void 0===e||e.cancel()}}},[]),c.createElement("div",{className:"rpv-core__text-layer",ref:n})},at=function(e){var n=e.doc,r=e.measureRef,o=e.outlines,a=e.pageIndex,i=e.pageRotation,l=e.pageSize,u=e.plugins,s=e.renderPage,d=e.renderQueueKey,p=e.rotation,f=e.scale,h=e.shouldRender,v=e.viewMode,m=e.onExecuteNamedAction,w=e.onJumpFromLinkAnnotation,E=e.onJumpToDest,y=e.onRenderCompleted,x=e.onRotatePage,S=I(),_=c.useState(null),P=_[0],k=_[1],R=c.useState(!1),M=R[0],C=R[1],T=c.useState(!1),L=T[0],O=T[1],F=c.useRef(),D=c.useRef(),N=Math.abs(p+i)%180==0,A=l.pageWidth*f,H=l.pageHeight*f,V=N?A:H,B=N?H:A,z=(l.rotation+p+i)%360,W=c.useRef(0),j=s||function(e){return c.createElement(c.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)};return c.useEffect(function(){k(null),C(!1),O(!1)},[i,p,f]),c.useEffect(function(){h&&S.current&&!P&&ge(n,a).then(function(e){S.current&&(W.current=d,k(e))})},[h,P]),c.useEffect(function(){M&&L&&(d!==W.current?(k(null),C(!1),O(!1)):y(a))},[M,L]),c.createElement("div",{className:g({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":v===t.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":v===t.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":v===t.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(a),ref:r,style:{height:"".concat(B,"px"),width:"".concat(V,"px")}},P?c.createElement(c.Fragment,null,j({annotationLayer:{attrs:{},children:c.createElement(et,{doc:n,outlines:o,page:P,pageIndex:a,plugins:u,rotation:z,scale:f,onExecuteNamedAction:m,onJumpFromLinkAnnotation:w,onJumpToDest:E})},canvasLayer:{attrs:{},children:c.createElement(nt,{canvasLayerRef:F,height:B,page:P,pageIndex:a,plugins:u,rotation:z,scale:f,width:V,onRenderCanvasCompleted:function(){S.current&&C(!0)}})},canvasLayerRendered:M,doc:n,height:B,pageIndex:a,rotation:z,scale:f,svgLayer:{attrs:{},children:c.createElement(rt,{height:B,page:P,rotation:z,scale:f,width:V})},textLayer:{attrs:{},children:c.createElement(ot,{containerRef:D,page:P,pageIndex:a,plugins:u,rotation:z,scale:f,onRenderTextCompleted:function(){S.current&&O(!0)}})},textLayerRendered:L,width:V,markRendered:y,onRotatePage:function(e){return x(a,e)}}),u.map(function(e,t){return e.renderPageLayer?c.createElement(c.Fragment,{key:t},e.renderPageLayer({canvasLayerRef:F,canvasLayerRendered:M,doc:n,height:B,pageIndex:a,rotation:z,scale:f,textLayerRef:D,textLayerRendered:L,width:V})):c.createElement(c.Fragment,{key:t})})):c.createElement(b,{testId:"core__page-layer-loading-".concat(a)}))},it=function(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e};!function(e){e.Horizontal="Horizontal",e.Vertical="Vertical",e.Both="Both"}(Se||(Se={}));var ct=function(e){return 1-Math.pow(1-e,4)},lt=1e-4,ut={left:0,top:0},st={capture:!1,passive:!0},dt=function(e,t,n){return Math.max(e,Math.min(n,t))},pt=function(e,n){if(n!==t.ViewMode.DualPageWithCover)return 0;if(!function(e){var t=e.length;if(1===t)return!1;for(var n=1;n<t;n++)if(e[n].height!==e[0].height||e[n].width!==e[0].width)return!0;return!1}(e))return 2*e[0].width;var r=ue(e.slice(1),2).map(function(e){return 2===e.length?e[0].width+e[1].width:e[0].width}),o=[e[0].width].concat(r);return Math.max.apply(Math,o)},ft={left:0,top:0},ht={left:0,top:0},gt={left:0,top:0},vt={left:0,top:0},mt={height:0,width:0},wt={left:0,top:0},Et="data-virtual-index",yt=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],bt=function(e){var n=e.enableSmoothScroll,r=e.isRtl,o=e.numberOfItems,a=e.parentRef,i=e.setRenderRange,l=e.sizes,u=e.scrollMode,s=e.viewMode,d=c.useState(!1),f=d[0],h=d[1],g=c.useCallback(function(e){return h(e)},[]),m=c.useRef(u);m.current=u;var w=c.useRef(s);w.current=s;var E=u===t.ScrollMode.Wrapped||s===t.ViewMode.DualPageWithCover||s===t.ViewMode.DualPage?Se.Both:u===t.ScrollMode.Horizontal?Se.Horizontal:Se.Vertical,y=function(e){var t=e.elementRef,n=e.enableSmoothScroll,r=e.isRtl,o=e.scrollDirection,a=e.onSmoothScroll,i=c.useState(ut),l=i[0],u=i[1],s=c.useState(t.current),d=s[0],p=s[1],f=r?-1:1,h=c.useRef(o);h.current=o;var g=c.useRef(ut),m=c.useRef(!0),w=c.useCallback(function(){m.current=!0,n&&u(g.current),a(!1)},[]),E=c.useCallback(function(){if(d){switch(h.current){case Se.Horizontal:g.current={left:f*d.scrollLeft,top:0};break;case Se.Both:g.current={left:f*d.scrollLeft,top:d.scrollTop};break;case Se.Vertical:default:g.current={left:0,top:d.scrollTop}}n&&!m.current||u(g.current)}},[d]);v(function(){p(t.current)}),v(function(){if(d)return d.addEventListener("scroll",E,st),function(){d.removeEventListener("scroll",E,st)}},[d]);var y=c.useCallback(function(e,n){var r=t.current;if(!r)return Promise.resolve();var o={left:0,top:0};switch(h.current){case Se.Horizontal:o.left=f*e.left;break;case Se.Both:o.left=f*e.left,o.top=e.top;break;case Se.Vertical:default:o.top=e.top}return n?(m.current=!1,a(!0),new Promise(function(e,t){!function(e,t,n,r,o,a){void 0===o&&(o=function(e){return e}),void 0===a&&(a=function(){});var i=0,c=0,l=!1;switch(t){case Se.Horizontal:c=e.scrollLeft,i=0;case Se.Both:c=e.scrollLeft,i=e.scrollTop;break;case Se.Vertical:default:c=0,i=e.scrollTop}var u=function(){l||(l=!0,e.scrollLeft=n.left,e.scrollTop=n.top,a())};if(Math.abs(i-n.top)<=lt&&t===Se.Vertical)u();else if(Math.abs(c-n.left)<=lt&&t===Se.Horizontal)u();else{var s,d=-1,p=c-n.left,f=i-n.top,h=function(r){-1===d&&(d=r);var a=r-d,g=Math.min(a/400,1),v=o(g),m={left:c-p*v,top:i-f*v};switch(t){case Se.Horizontal:e.scrollLeft=m.left;break;case Se.Both:e.scrollLeft=m.left,e.scrollTop=m.top;break;case Se.Vertical:default:e.scrollTop=m.top}Math.abs(m.top-n.top)<=lt&&Math.abs(m.left-n.left)<=lt&&!l&&(window.cancelAnimationFrame(s),u()),a<400?s=window.requestAnimationFrame(h):window.cancelAnimationFrame(s)};s=window.requestAnimationFrame(h)}}(r,h.current,o,0,ct,function(){w(),e()})})):new Promise(function(e,t){switch(h.current){case Se.Horizontal:r.scrollLeft=o.left;break;case Se.Both:r.scrollLeft=o.left,r.scrollTop=o.top;break;case Se.Vertical:default:r.scrollTop=o.top}e()})},[t]);return{scrollOffset:l,scrollTo:y}}({elementRef:a,enableSmoothScroll:n,isRtl:r,scrollDirection:E,onSmoothScroll:g}),b=y.scrollOffset,x=y.scrollTo,S=function(e){var t=e.elementRef,n=c.useState(t.current),r=n[0],o=n[1],a=c.useRef(!1),i=c.useReducer(it,{height:0,width:0}),l=i[0],u=i[1];return v(function(){t.current!==r&&o(t.current)}),v(function(){if(r&&!a.current){a.current=!0;var e=r.getBoundingClientRect(),t=e.height,n=e.width;u({rect:{height:t,width:n}})}},[r]),c.useEffect(function(){if(r){var e=new ResizeObserver(function(e,t){e.forEach(function(e){if(e.target===r){var t=e.contentRect,n=t.height,o=t.width;u({rect:{height:n,width:o}})}})});return e.observe(r),function(){e.unobserve(r)}}},[r]),l}({elementRef:a}),_=c.useRef({scrollOffset:wt,measurements:[]});_.current.scrollOffset=b;var P=c.useMemo(function(){return Array(o).fill(-1)},[]),k=c.useState(P),R=k[0],M=k[1],C=c.useMemo(function(){var e=new IntersectionObserver(function(e){e.forEach(function(e){var t=e.isIntersecting?e.intersectionRatio:-1,n=e.target.getAttribute(Et);if(n){var r=parseInt(n,10);0<=r&&r<o&&M(function(e){return e[r]=t,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e,!0)})}})},{threshold:yt});return e},[]),T=c.useMemo(function(){return u===t.ScrollMode.Page&&s===t.ViewMode.SinglePage?function(e,t,n){for(var r=[],o=0;o<e;o++){var a={height:Math.max(t.height,n[o].height),width:Math.max(t.width,n[o].width)},i=0===o?vt:r[o-1].end,c={left:i.left+a.width,top:i.top+a.height};r[o]={index:o,start:i,size:a,end:c,visibility:-1}}return r}(o,S,l):s===t.ViewMode.DualPageWithCover?function(e,n,r,o){for(var a=[],i=0,c=0,l=gt,u=0;u<e;u++){var s=0===u?{height:o===t.ScrollMode.Page?Math.max(n.height,r[u].height):r[u].height,width:o===t.ScrollMode.Page?Math.max(n.width,r[u].width):r[u].width}:{height:o===t.ScrollMode.Page?Math.max(n.height,r[u].height):r[u].height,width:Math.max(n.width/2,r[u].width)};o===t.ScrollMode.Page?l=0===u?gt:{left:u%2==0?s.width:0,top:Math.floor((u-1)/2)*s.height+a[0].end.top}:0===u?(l=gt,i=r[0].height,c=0):u%2==1?(l={left:0,top:i+=c},c=u===e-1?r[u].height:Math.max(r[u].height,r[u+1].height)):l={left:a[u-1].end.left,top:i};var d={left:l.left+s.width,top:l.top+s.height};a[u]={index:u,start:l,size:s,end:d,visibility:-1}}return a}(o,S,l,u):s===t.ViewMode.DualPage?function(e,n,r,o){for(var a=[],i=0,c=0,l=ht,u=0;u<e;u++){var s={height:o===t.ScrollMode.Page?Math.max(n.height,r[u].height):r[u].height,width:Math.max(n.width/2,r[u].width)};o===t.ScrollMode.Page?l={left:u%2==0?0:s.width,top:Math.floor(u/2)*s.height}:u%2==0?(l={left:0,top:i+=c},c=u===e-1?r[u].height:Math.max(r[u].height,r[u+1].height)):l={left:a[u-1].end.left,top:i};var d={left:l.left+s.width,top:l.top+s.height};a[u]={index:u,start:l,size:s,end:d,visibility:-1}}return a}(o,S,l,u):function(e,n,r,o){for(var a=[],i=0,c={left:0,top:0},l=0,u=ft,s=0;s<e;s++){var d=r[s];if(0===s)i=d.width,c={left:0,top:0},l=d.height;else switch(o){case t.ScrollMode.Wrapped:(i+=d.width)<n.width?(u={left:a[s-1].end.left,top:c.top},l=Math.max(l,d.height)):(i=d.width,c={left:(u={left:c.left,top:c.top+l}).left,top:u.top},l=d.height);break;case t.ScrollMode.Horizontal:case t.ScrollMode.Vertical:default:u=a[s-1].end}var p={left:u.left+d.width,top:u.top+d.height};a[s]={index:s,start:u,size:d,end:p,visibility:-1}}return a}(o,S,l,u)},[u,l,s,S]),L=T[o-1]?{height:T[o-1].end.top,width:T[o-1].end.left}:mt;_.current.measurements=T;var O=c.useMemo(function(){var e=function(e,t,n,r){var o=0;switch(e){case Se.Horizontal:o=r.left;break;case Se.Vertical:default:o=r.top}var a=t.length-1,i=function(e,t,n,r){for(;e<=t;){var o=(e+t)/2|0,a=r(o);if(a<n)e=o+1;else{if(!(a>n))return o;t=o-1}}return e>0?e-1:0}(0,a,o,function(n){switch(e){case Se.Horizontal:return t[n].start.left;case Se.Both:case Se.Vertical:default:return t[n].start.top}});if(e===Se.Both)for(var c=t[i].start.top;i-1>=0&&t[i-1].start.top===c&&t[i-1].start.left>=r.left;)i--;for(var l=i;l<=a;){var u={top:t[l].start.top-r.top,left:t[l].start.left-r.left},s={height:n.height-u.top,width:n.width-u.left};if(e===Se.Horizontal&&s.width<0)break;if(e===Se.Vertical&&s.height<0)break;if(e===Se.Both&&(s.width<0||s.height<0))break;l++}return{start:i,end:l}}(E,T,S,b),n=e.start,r=e.end,a=n+R.slice(dt(0,o,n),dt(0,o,r)).reduce(function(e,t,n,r){return t>r[e]?n:e},0),c=a=dt(0,o-1,a),l=i({endPage:r,numPages:o,startPage:n}),u=l.startPage,d=l.endPage;switch(u=Math.max(u,0),d=Math.min(d,o-1),s){case t.ViewMode.DualPageWithCover:a>0&&(c=a%2==1?a:a-1),u=0===u?0:u%2==1?u:u-1,o-(d=d%2==1?d-1:d)<=2&&(d=o-1);break;case t.ViewMode.DualPage:c=a%2==0?a:a-1,u=u%2==0?u:u-1,d=d%2==1?d:d-1;break;case t.ViewMode.SinglePage:default:c=a}return{startPage:u,endPage:d,maxVisbilityIndex:c}},[T,S,b,s,R]),I=O.startPage,F=O.endPage,D=O.maxVisbilityIndex,N=c.useMemo(function(){for(var e=[],t=function(t){var n=T[t],r=p(p({},n),{visibility:void 0!==R[t]?R[t]:-1,measureRef:function(e){e&&(e.setAttribute(Et,"".concat(t)),C.observe(e))}});e.push(r)},n=I;n<=F;n++)t(n);return e},[I,F,R,T]),A=c.useCallback(function(e,r){var a=_.current.measurements[dt(0,o-1,e)],i=m.current===t.ScrollMode.Page?wt:r;return a?x({left:i.left+a.start.left,top:i.top+a.start.top},n):Promise.resolve()},[x,n]),H=c.useCallback(function(e,n){var r=_.current.measurements,o=r[e].start,a=r.find(function(e){return e.start.top-o.top>1e-12});if(!a)return Promise.resolve();var i=a.index;switch(w.current){case t.ViewMode.DualPage:i=i%2==0?i:i+1;break;case t.ViewMode.DualPageWithCover:i=i%2==1?i:i+1}return A(i,n)},[]),V=c.useCallback(function(e,n){for(var r=_.current.measurements,a=r[e].start,i=e,c=!1,l=o-1;l>=0;l--)if(a.top-r[l].start.top>1e-12){c=!0,i=r[l].index;break}if(!c)return Promise.resolve();switch(w.current){case t.ViewMode.DualPage:i=i%2==0?i:i-1;break;case t.ViewMode.DualPageWithCover:i=i%2==0?i-1:i}return i===e&&(i=e-1),A(i,n)},[]),B=c.useCallback(function(e,n){if(w.current===t.ViewMode.DualPageWithCover||w.current===t.ViewMode.DualPage)return H(e,n);switch(m.current){case t.ScrollMode.Wrapped:return H(e,n);case t.ScrollMode.Horizontal:case t.ScrollMode.Vertical:default:return A(e+1,n)}},[]),z=c.useCallback(function(e,n){if(w.current===t.ViewMode.DualPageWithCover||w.current===t.ViewMode.DualPage)return V(e,n);switch(m.current){case t.ScrollMode.Wrapped:return V(e,n);case t.ScrollMode.Horizontal:case t.ScrollMode.Vertical:default:return A(e-1,n)}},[]),W=c.useCallback(function(){return function(e,n){switch(n){case t.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(e.width,"px")};case t.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(e.height,"px"),width:"100%"}}}(L,m.current)},[L]),j=c.useCallback(function(e){return function(e,n,r){return r!==t.ScrollMode.Page?{}:{height:"".concat(n.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(e.start.top,"px)")}}(e,S,m.current)},[S]),q=c.useCallback(function(e){return function(e,n,r,o,a){var i,c,l,u,s,d,p,f=n?"right":"left",h=n?-1:1,g=r.length,v=e.start.left*h,m=e.size,w=m.height,E=m.width;if(o===t.ViewMode.DualPageWithCover){var y=a===t.ScrollMode.Page?0:e.start.top;return 0===e.index||g%2==0&&e.index===g-1?((i={height:"".concat(w,"px"),minWidth:"".concat(pt(r,o),"px"),width:"100%"})[f]=0,i.position="absolute",i.top=0,i.transform="translate(".concat(v,"px, ").concat(y,"px)"),i):((c={height:"".concat(w,"px"),width:"".concat(E,"px")})[f]=0,c.position="absolute",c.top=0,c.transform="translate(".concat(v,"px, ").concat(y,"px)"),c)}if(o===t.ViewMode.DualPage)return(l={height:"".concat(w,"px"),width:"".concat(E,"px")})[f]=0,l.position="absolute",l.top=0,l.transform="translate(".concat(v,"px, ").concat(a===t.ScrollMode.Page?0:e.start.top,"px)"),l;switch(a){case t.ScrollMode.Horizontal:return(u={height:"100%",width:"".concat(E,"px")})[f]=0,u.position="absolute",u.top=0,u.transform="translateX(".concat(v,"px)"),u;case t.ScrollMode.Page:return(s={height:"".concat(w,"px"),width:"".concat(E,"px")})[f]=0,s.position="absolute",s.top=0,s;case t.ScrollMode.Wrapped:return(d={height:"".concat(w,"px"),width:"".concat(E,"px")})[f]=0,d.position="absolute",d.top=0,d.transform="translate(".concat(v,"px, ").concat(e.start.top,"px)"),d;case t.ScrollMode.Vertical:default:return(p={height:"".concat(w,"px"),width:"100%"})[f]=0,p.position="absolute",p.top=0,p.transform="translateY(".concat(e.start.top,"px)"),p}}(e,r,l,w.current,m.current)},[r,l]),K=c.useCallback(function(e,n){var r=_.current,a=r.measurements,i=r.scrollOffset,c=a[dt(0,o-1,n)];if(c){var l=m.current===t.ScrollMode.Page?{left:c.start.left,top:c.start.top}:{left:i.left*e,top:i.top*e};return x(l,!1)}return Promise.resolve()},[]);return c.useEffect(function(){return function(){C.disconnect()}},[]),{boundingClientRect:S,isSmoothScrolling:f,startPage:I,endPage:F,maxVisbilityIndex:D,virtualItems:N,getContainerStyles:W,getItemContainerStyles:j,getItemStyles:q,scrollToItem:A,scrollToNextItem:B,scrollToPreviousItem:z,zoom:K}},xt=function(e,n,r,o,a,i){var c=r;switch(!0){case a===t.ViewMode.DualPageWithCover&&i>=3:case a===t.ViewMode.DualPage&&i>=3:c=2*r;break;default:c=r}switch(o){case t.SpecialZoomLevel.ActualSize:return 1;case t.SpecialZoomLevel.PageFit:return Math.min((e.clientWidth-17)/c,(e.clientHeight-16)/n);case t.SpecialZoomLevel.PageWidth:return(e.clientWidth-17)/c}},St=function(e){var t=[];return e.map(function(e){t=t.concat(e).concat(function(e){var t=[];return e.items&&e.items.length>0&&(t=t.concat(St(e.items))),t}(e))}),t},_t={capture:!1,passive:!0},Pt={height:0,width:0},kt={height:0,width:0},Rt=function(e){var n=e.getCurrentPage,r=e.getCurrentScrollMode,o=e.jumpToPage,a=e.targetRef,i=c.useState(t.FullScreenMode.Normal),l=i[0],u=i[1],s=function(){var e=c.useState(Pt),t=e[0],n=e[1],r=O(function(){n({height:window.innerHeight,width:window.innerWidth})},100);return v(function(){return window.addEventListener("resize",r,_t),function(){window.removeEventListener("resize",r,_t)}},[]),t}(),d=c.useState(kt),p=d[0],f=d[1],h=c.useRef(kt),g=c.useRef(n()),m=c.useRef(kt),w=c.useState(a.current),E=w[0],y=w[1],b=c.useRef();v(function(){a.current!==E&&y(a.current)},[]),v(function(){if(E){var e=new ResizeObserver(function(e){e.forEach(function(e){var t=e.target.getBoundingClientRect(),n=t.height,r=t.width;f({height:n,width:r})})});return e.observe(E),function(){e.unobserve(E),e.disconnect()}}},[E]);var x=c.useCallback(function(e){var n=L();return n&&n!==e?(u(t.FullScreenMode.Normal),T(n)):Promise.resolve()},[]),S=c.useCallback(function(e){e&&C()&&(y(e),x(e).then(function(){b.current=e,u(t.FullScreenMode.Entering),function(e){R&&e[M.RequestFullScreen]()}(e)}))},[]),_=c.useCallback(function(){L()&&(u(t.FullScreenMode.Exitting),T(document))},[]),P=c.useCallback(function(){E&&L()!==E&&u(t.FullScreenMode.Exitting)},[E]);return c.useEffect(function(){switch(l){case t.FullScreenMode.Entering:b.current&&(b.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),g.current=n(),h.current={height:window.innerHeight,width:window.innerWidth};break;case t.FullScreenMode.Entered:r()===t.ScrollMode.Page?o(g.current).then(function(){u(t.FullScreenMode.EnteredCompletely)}):u(t.FullScreenMode.EnteredCompletely);break;case t.FullScreenMode.Exitting:b.current&&(b.current.style.backgroundColor="",b.current=null),g.current=n();break;case t.FullScreenMode.Exited:u(t.FullScreenMode.Normal),r()===t.ScrollMode.Page&&o(g.current)}},[l]),c.useEffect(function(){if(l!==t.FullScreenMode.Normal)return l===t.FullScreenMode.Entering&&s.height===p.height&&s.width===p.width&&s.height>0&&s.width>0&&(0===m.current.height||s.height==m.current.height)?(m.current={height:window.innerHeight,width:window.innerWidth},void u(t.FullScreenMode.Entered)):void(l===t.FullScreenMode.Exitting&&h.current.height===s.height&&h.current.width===s.width&&s.height>0&&s.width>0&&u(t.FullScreenMode.Exited))},[l,s,p]),c.useEffect(function(){var e;return e=P,R&&document.addEventListener(M.FullScreenChange,e),function(){!function(e){R&&document.removeEventListener(M.FullScreenChange,e)}(P)}},[E]),{enterFullScreenMode:S,exitFullScreenMode:_,fullScreenMode:l}},Mt={buildPageStyles:function(){return{}},transformSize:function(e){return e.size}},Ct={left:0,top:0},Tt=function(e){var n=e.currentFile,r=e.defaultScale,o=e.doc,a=e.enableSmoothScroll,i=e.initialPage,l=e.initialRotation,u=e.initialScale,s=e.pageLayout,d=e.pageSizes,f=e.plugins,m=e.renderPage,w=e.scrollMode,E=e.setRenderRange,y=e.viewMode,b=e.viewerState,x=e.onDocumentLoad,S=e.onOpenFile,_=e.onPageChange,P=e.onRotate,k=e.onRotatePage,R=e.onZoom,M=o.numPages,C=o.loadingTask.docId,T=c.useContext(V).l10n,L=c.useContext(h),D=L.direction===t.TextDirection.RightToLeft,N=c.useRef(),H=c.useRef(),B=c.useState(i),z=B[0],W=B[1],j=c.useRef(null),q=function(e){var t,n=e.getCurrentPage,r=(t=c.useRef([]),c.useEffect(function(){return function(){t.current=[]}},[]),{push:function(e){var n=t.current;n.length+1>50&&n.shift(),n.push(e),t.current=n},map:function(e){return t.current.map(function(t){return e(t)})},pop:function(){var e=t.current;if(0===e.length)return null;var n=e.pop();return t.current=e,n}}),o=function(){var e=c.useRef([]);return c.useEffect(function(){return function(){e.current=[]}},[]),{dequeue:function(){var t=e.current;if(0===t.length)return null;var n=t.shift();return e.current=t,n||null},enqueue:function(t){var n=e.current;n.length+1>50&&n.pop(),e.current=[t].concat(n)},map:function(t){return e.current.map(function(e){return t(e)})}}}(),a=function(){var e=o.dequeue();return e&&r.push(e),e&&e.pageIndex===n()?a():e},i=function(){var e=r.pop();return e&&o.enqueue(e),e&&e.pageIndex===n()?i():e},l=c.useCallback(function(e){r.push(e)},[]);return{getNextDestination:a,getPreviousDestination:i,markVisitedDestination:l}}({getCurrentPage:function(){return we.current.pageIndex}}),K=c.useState(l),U=K[0],Z=K[1],J=F(U),G=c.useState(!1),Y=G[0],X=G[1],Q=c.useState(new Map),$=Q[0],ee=Q[1],te=c.useState(w),ne=te[0],re=te[1],oe=F(ne),ae=c.useState(y),ie=ae[0],ce=ae[1],le=F(ie),se=function(e){var t=I(),n=c.useState([]),r=n[0],o=n[1];return c.useEffect(function(){e.getOutline().then(function(e){if(t.current&&null!==e){var n=St(e);o(n)}})},[]),r}(o),fe=c.useState(u),he=fe[0],ve=fe[1],me=F(he),we=c.useRef(b),Ee=c.useRef("string"==typeof r?r:null),ye=c.useRef(-1),be=c.useRef(-1),xe=c.useRef(i),Se=Rt({getCurrentPage:function(){return we.current.pageIndex},getCurrentScrollMode:function(){return we.current.scrollMode},jumpToPage:function(e){return qe(e)},targetRef:H}),_e=c.useState(-1),Pe=_e[0],ke=_e[1],Re=c.useState(0),Me=Re[0],Ce=Re[1],Te=A({doc:o});c.useEffect(function(){return function(){de.clear(),pe.clear()}},[C]);var Le=c.useMemo(function(){return Object.assign({},Mt,s)},[]),Oe=c.useMemo(function(){return Array(M).fill(0).map(function(e,t){var n=[d[t].pageHeight,d[t].pageWidth],r=Math.abs(U)%180==0?{height:n[0],width:n[1]}:{height:n[1],width:n[0]},o={height:r.height*he,width:r.width*he};return Le.transformSize({numPages:M,pageIndex:t,size:o})})},[U,he]),Ie=bt({enableSmoothScroll:a,isRtl:D,numberOfItems:M,parentRef:H,scrollMode:ne,setRenderRange:E,sizes:Oe,viewMode:ie}),Fe=O(function(){!Ee.current||we.current.fullScreenMode!==t.FullScreenMode.Normal||i>0&&xe.current===i||Xe(Ee.current)},200);!function(e){var t=e.targetRef,n=e.onResize;v(function(){var e=new ResizeObserver(function(e){e.forEach(function(e){n(e.target)})}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}},[])}({targetRef:H,onResize:Fe});var De=function(e){var t=e;f.forEach(function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))}),we.current=t},Ne=function(){return H.current},Ae=function(){return we.current},He=c.useCallback(function(e){q.markVisitedDestination(e)},[]),Ve=c.useCallback(function(e){var n=e.pageIndex,r=e.bottomOffset,a=e.leftOffset,i=e.scaleTo,c=H.current,l=we.current;return c&&l?new Promise(function(e,u){ge(o,n).then(function(o){var u=o.getViewport({scale:1}),s=0,p=("function"==typeof r?r(u.width,u.height):r)||0,f=("function"==typeof a?a(u.width,u.height):a)||0,h=l.scale;switch(i){case t.SpecialZoomLevel.PageFit:s=0,f=0,Xe(t.SpecialZoomLevel.PageFit);break;case t.SpecialZoomLevel.PageWidth:h=xt(c,d[n].pageHeight,d[n].pageWidth,t.SpecialZoomLevel.PageWidth,y,M),s=(u.height-p)*h,f*=h,Xe(h);break;default:s=(u.height-p)*h,f*=h}switch(l.scrollMode){case t.ScrollMode.Horizontal:Ie.scrollToItem(n,{left:f,top:0}).then(function(){e()});break;case t.ScrollMode.Vertical:default:Ie.scrollToItem(n,{left:0,top:s}).then(function(){e()})}})}):Promise.resolve()},[]),Be=c.useCallback(function(e){return q.markVisitedDestination(e),Ve(e)},[]),ze=c.useCallback(function(){var e=q.getNextDestination();return e?Ve(e):Promise.resolve()},[]),We=c.useCallback(function(){var e=q.getPreviousDestination();return e?Ve(e):Promise.resolve()},[]),je=c.useCallback(function(){return Ie.scrollToNextItem(we.current.pageIndex,Ct)},[]),qe=c.useCallback(function(e){return 0<=e&&e<M?Ie.scrollToItem(e,Ct):Promise.resolve()},[]),Ke=c.useCallback(function(){return Ie.scrollToPreviousItem(we.current.pageIndex,Ct)},[]),Ue=c.useCallback(function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise(function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}}).then(function(t){S(e.name,t)})},[S]),Ze=c.useCallback(function(e){var n=e===t.RotateDirection.Backward?-90:90,r=we.current.rotation,a=360===r||-360===r?n:r+n;Te.markNotRendered(),Z(a),De(p(p({},we.current),{rotation:a})),P({direction:e,doc:o,rotation:a})},[]),Je=c.useCallback(function(e,n){var r=n===t.RotateDirection.Backward?-90:90,a=we.current.pagesRotation,i=(a.has(e)?a.get(e):l)+r,c=a.set(e,i);ee(c),X(function(e){return!e}),De(p(p({},we.current),{pagesRotation:c,rotatedPage:e})),k({direction:n,doc:o,pageIndex:e,rotation:i}),Te.markRendering(e),ke(e)},[]),Ge=c.useCallback(function(e){De(p(p({},we.current),{scrollMode:e})),re(e)},[]),Ye=c.useCallback(function(e){De(p(p({},we.current),{viewMode:e})),ce(e)},[]),Xe=c.useCallback(function(e){var t=H.current,n=we.current.pageIndex;if(!(n<0||n>=M)){var r=d[n].pageHeight,a=d[n].pageWidth,i=t?"string"==typeof e?xt(t,r,a,e,we.current.viewMode,M):e:1;Ee.current="string"==typeof e?e:null,i!==we.current.scale&&(Ce(function(e){return e+1}),Te.markNotRendered(),ve(i),R({doc:o,scale:i}),De(p(p({},we.current),{scale:i})))}},[]),Qe=c.useCallback(function(e){Se.enterFullScreenMode(e)},[]),$e=c.useCallback(function(){Se.exitFullScreenMode()},[]);c.useEffect(function(){De(p(p({},we.current),{fullScreenMode:Se.fullScreenMode}))},[Se.fullScreenMode]),c.useEffect(function(){var e={enterFullScreenMode:Qe,exitFullScreenMode:$e,getPagesContainer:Ne,getViewerState:Ae,jumpToDestination:Be,jumpToNextDestination:ze,jumpToPreviousDestination:We,jumpToNextPage:je,jumpToPreviousPage:Ke,jumpToPage:qe,openFile:Ue,rotate:Ze,rotatePage:Je,setViewerState:De,switchScrollMode:Ge,switchViewMode:Ye,zoom:Xe};return f.forEach(function(t){t.install&&t.install(e)}),function(){f.forEach(function(t){t.uninstall&&t.uninstall(e)})}},[C]),c.useEffect(function(){x({doc:o,file:n}),f.forEach(function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:o,file:n})})},[C]);var et,tt,nt,rt=Ie.boundingClientRect;et=function(){i&&qe(i)},tt=rt.height>0&&rt.width>0,nt=c.useRef(!1),v(function(){tt&&!nt.current&&(nt.current=!0,et())},[et,tt]),v(function(){var e=we.current.pageIndex;e>-1&&oe!==ne&&Ie.scrollToItem(e,Ct).then(function(){Se.fullScreenMode===t.FullScreenMode.EnteredCompletely&&(a||Te.markNotRendered(),ye.current=-1)})},[ne]),v(function(){var e=we.current.pageIndex;e>-1&&J!==U&&Ie.scrollToItem(e,Ct)},[U]),v(function(){0!=me&&me!=we.current.scale&&Ie.zoom(we.current.scale/me,we.current.pageIndex).then(function(){Se.fullScreenMode===t.FullScreenMode.EnteredCompletely&&(be.current=-1)})},[he]),v(function(){if(le!==we.current.viewMode){var e=Ie.startPage,t=Ie.endPage,n=Ie.virtualItems;Te.markNotRendered(),Te.setRange(e,t);for(var r=function(e){var t=n.find(function(t){return t.index===e});t&&Te.setVisibility(e,t.visibility)},o=e;o<=t;o++)r(o);it()}},[ie]),v(function(){var e=we.current.pageIndex;e>-1&&le!==ie&&Ie.scrollToItem(e,Ct)},[ie]),v(function(){var e=we.current.pageIndex;e>0&&e===i&&xe.current===i&&Ee.current&&(xe.current=-1,Xe(Ee.current))},[z]),c.useEffect(function(){Ie.isSmoothScrolling||null!==j.current&&j.current===z||(j.current=z,_({currentPage:z,doc:o}))},[z,Ie.isSmoothScrolling]),c.useEffect(function(){Se.fullScreenMode===t.FullScreenMode.Entering&&we.current.scrollMode===t.ScrollMode.Page&&(ye.current=we.current.pageIndex),Se.fullScreenMode===t.FullScreenMode.EnteredCompletely&&we.current.scrollMode===t.ScrollMode.Page&&a&&(ye.current=-1),Se.fullScreenMode===t.FullScreenMode.EnteredCompletely&&Ee.current&&(be.current=we.current.pageIndex,Xe(Ee.current))},[Se.fullScreenMode]),c.useEffect(function(){if(Se.fullScreenMode!==t.FullScreenMode.Entering&&Se.fullScreenMode!==t.FullScreenMode.Exitting&&!Ie.isSmoothScrolling){var e=Ie.startPage,n=Ie.endPage,r=Ie.maxVisbilityIndex,o=Ie.virtualItems,a=r,i=Se.fullScreenMode===t.FullScreenMode.Entered||Se.fullScreenMode===t.FullScreenMode.EnteredCompletely;if(!(i&&a!==ye.current&&ye.current>-1||i&&a!==be.current&&be.current>-1)){W(a),De(p(p({},we.current),{pageIndex:a})),Te.setRange(e,n);for(var c=function(e){var t=o.find(function(t){return t.index===e});t&&Te.setVisibility(e,t.visibility)},l=e;l<=n;l++)c(l);it()}}},[Ie.startPage,Ie.endPage,Ie.isSmoothScrolling,Ie.maxVisbilityIndex,Se.fullScreenMode,Y,U,he]);var ot=c.useCallback(function(e){Te.markRendered(e),it()},[Me]),it=function(){var e=Te.getHighestPriorityPage();e>-1&&Te.isInRange(e)&&(Te.markRendering(e),ke(e))},ct=function(e){var t=z-1,n=z+1;switch(e){case"FirstPage":qe(0);break;case"LastPage":qe(M-1);break;case"NextPage":n<M&&qe(n);break;case"PrevPage":t>=0&&qe(t)}},lt=c.useCallback(function(){var e=Ie.virtualItems,n=[];switch(ie){case t.ViewMode.DualPage:n=ue(e,2);break;case t.ViewMode.DualPageWithCover:e.length&&(n=0===e[0].index?[[e[0]]].concat(ue(e.slice(1),2)):ue(e,2));break;case t.ViewMode.SinglePage:default:n=ue(e,1)}var r=T&&T.core?T.core.pageLabel:"Page {{pageIndex}}",a={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:N,style:{height:"100%"}},children:c.createElement(c.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:g({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":ne===t.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":D,"rpv-core__inner-pages--single":ne===t.ScrollMode.Page,"rpv-core__inner-pages--vertical":ne===t.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":ne===t.ScrollMode.Wrapped}),ref:H,style:{height:"100%",position:"relative"}},children:c.createElement("div",{"data-testid":"core__inner-current-page-".concat(z),style:Object.assign({"--scale-factor":he},Ie.getContainerStyles())},n.map(function(e){return c.createElement("div",{className:g({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":ne===t.ScrollMode.Page}),style:Ie.getItemContainerStyles(e[0]),key:"".concat(e[0].index,"-").concat(ie)},e.map(function(e){var n=ie===t.ViewMode.DualPageWithCover&&(0===e.index||M%2==0&&e.index===M-1);return c.createElement("div",{"aria-label":r.replace("{{pageIndex}}","".concat(e.index+1)),className:g({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":ie===t.ViewMode.DualPage&&e.index%2==0,"rpv-core__inner-page--dual-odd":ie===t.ViewMode.DualPage&&e.index%2==1,"rpv-core__inner-page--dual-cover":n,"rpv-core__inner-page--dual-cover-even":ie===t.ViewMode.DualPageWithCover&&!n&&e.index%2==0,"rpv-core__inner-page--dual-cover-odd":ie===t.ViewMode.DualPageWithCover&&!n&&e.index%2==1,"rpv-core__inner-page--single":ie===t.ViewMode.SinglePage&&ne===t.ScrollMode.Page}),role:"region",key:"".concat(e.index,"-").concat(ie),style:Object.assign({},Ie.getItemStyles(e),Le.buildPageStyles({numPages:M,pageIndex:e.index,scrollMode:ne,viewMode:ie}))},c.createElement(at,{doc:o,measureRef:e.measureRef,outlines:se,pageIndex:e.index,pageRotation:$.has(e.index)?$.get(e.index):0,pageSize:d[e.index],plugins:f,renderPage:m,renderQueueKey:Me,rotation:U,scale:he,shouldRender:Pe===e.index,viewMode:ie,onExecuteNamedAction:ct,onJumpFromLinkAnnotation:He,onJumpToDest:Be,onRenderCompleted:ot,onRotatePage:Je}))}))}))}};return f.forEach(function(e){e.renderViewer&&(a=e.renderViewer({containerRef:N,doc:o,pagesContainerRef:H,pagesRotation:$,pageSizes:d,rotation:U,slot:a,themeContext:L,jumpToPage:qe,openFile:Ue,rotate:Ze,rotatePage:Je,switchScrollMode:Ge,switchViewMode:Ye,zoom:Xe}))}),a},[f,Ie]),ut=c.useCallback(function(e){return c.createElement("div",p({},e.attrs,{style:e.attrs&&e.attrs.style?e.attrs.style:{}}),e.children,e.subSlot&&ut(e.subSlot))},[]);return ut(lt())},Lt=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Ot=function(e){var n=e.defaultScale,r=e.doc,o=e.render,a=e.scrollMode,i=e.viewMode,l=c.useRef(),u=c.useState({pageSizes:[],scale:0}),s=u[0],d=u[1];return c.useLayoutEffect(function(){var e=Array(r.numPages).fill(0).map(function(e,t){return new Promise(function(e,n){ge(r,t).then(function(t){var n=t.getViewport({scale:1});e({pageHeight:n.height,pageWidth:n.width,rotation:n.rotation})})})});Promise.all(e).then(function(e){var o=l.current;if(o&&0!==e.length){var c=e[0].pageWidth,u=e[0].pageHeight,s=o.parentElement,p=(s.clientWidth-45)/c,f=(s.clientHeight-45)/u,h=p;switch(a){case t.ScrollMode.Horizontal:h=Math.min(p,f);break;case t.ScrollMode.Vertical:default:h=p}var g,v,m=n?"string"==typeof n?xt(s,u,c,n,i,r.numPages):n:(g=h,-1===(v=Lt.findIndex(function(e){return e>=g}))||0===v?g:Lt[v-1]);d({pageSizes:e,scale:m})}})},[r.loadingTask.docId]),0===s.pageSizes.length||0===s.scale?c.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:l},c.createElement(b,null)):o(s.pageSizes,s.scale)},It=function(){},Ft=function(e){function t(t,n){var r=e.call(this)||this;return r.verifyPassword=t,r.passwordStatus=n,r}return s(t,e),t}(It),Dt=function(e){var n=e.passwordStatus,r=e.renderProtectedView,o=e.verifyPassword,a=e.onDocumentAskPassword,i=c.useContext(V).l10n,l=c.useState(""),u=l[0],s=l[1],d=c.useContext(h).direction===t.TextDirection.RightToLeft,p=function(){return o(u)};return c.useEffect(function(){a&&a({verifyPassword:o})},[]),r?r({passwordStatus:n,verifyPassword:o}):c.createElement("div",{className:"rpv-core__asking-password-wrapper"},c.createElement("div",{className:g({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":d})},c.createElement("div",{className:"rpv-core__asking-password-message"},n===t.PasswordStatus.RequiredPassword&&i.core.askingPassword.requirePasswordToOpen,n===t.PasswordStatus.WrongPassword&&i.core.wrongPassword.tryAgain),c.createElement("div",{className:"rpv-core__asking-password-body"},c.createElement("div",{className:g({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!d,"rpv-core__asking-password-input--rtl":d})},c.createElement(x,{testId:"core__asking-password-input",type:"password",value:u,onChange:s,onKeyDown:function(e){"Enter"===e.key&&p()}})),c.createElement(y,{onClick:p},i.core.askingPassword.submit))))},Nt=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return s(t,e),t}(It),At=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return s(t,e),t}(It),Ht=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return s(t,e),t}(It),Vt=function(e){var n=e.characterMap,r=e.file,o=e.httpHeaders,a=e.render,i=e.renderError,u=e.renderLoader,s=e.renderProtectedView,d=e.transformGetDocumentParams,p=e.withCredentials,f=e.onDocumentAskPassword,v=c.useContext(h).direction===t.TextDirection.RightToLeft,m=c.useState(new Ht(0)),w=m[0],E=m[1],y=c.useRef(""),x=I();return c.useEffect(function(){y.current="",E(new Ht(0));var e=new l.PDFWorker({name:"PDFWorker_".concat(Date.now())}),a=Object.assign({httpHeaders:o,withCredentials:p,worker:e},"string"==typeof r?{url:r}:{data:r},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),i=d?d(a):a,c=l.getDocument(i);return c.onPassword=function(e,n){switch(n){case l.PasswordResponses.NEED_PASSWORD:x.current&&E(new Ft(e,t.PasswordStatus.RequiredPassword));break;case l.PasswordResponses.INCORRECT_PASSWORD:x.current&&E(new Ft(e,t.PasswordStatus.WrongPassword))}},c.onProgress=function(e){var t=e.total>0?Math.min(100,100*e.loaded/e.total):100;x.current&&""===y.current&&E(new Ht(t))},c.promise.then(function(e){y.current=e.loadingTask.docId,x.current&&E(new Nt(e))},function(t){return x.current&&!e.destroyed&&E(new At({message:t.message||"Cannot load document",name:t.name}))}),function(){c.destroy(),e.destroy()}},[r]),w instanceof Ft?c.createElement(Dt,{passwordStatus:w.passwordStatus,renderProtectedView:s,verifyPassword:w.verifyPassword,onDocumentAskPassword:f}):w instanceof Nt?a(w.doc):w instanceof At?i?i(w.error):c.createElement("div",{className:g({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":v})},c.createElement("div",{className:"rpv-core__doc-error-text"},w.error.message)):c.createElement("div",{"data-testid":"core__doc-loading",className:g({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":v})},u?u(w.percentages):c.createElement(b,null))},Bt=function(e){return{startPage:e.startPage-3,endPage:e.endPage+3}};t.Button=function(e){var n=e.children,r=e.testId,o=e.onClick,a=c.useContext(h).direction===t.TextDirection.RightToLeft,i=r?{"data-testid":r}:{};return c.createElement("button",p({className:g({"rpv-core__button":!0,"rpv-core__button--rtl":a}),type:"button",onClick:o},i),n)},t.Icon=w,t.LazyRender=function(e){var t=e.attrs,n=e.children,r=e.testId,o=c.useState(!1),a=o[0],i=o[1],l=r?p(p({},t),{"data-testid":r}):t,u=m({once:!0,onVisibilityChanged:function(e){e.isVisible&&i(!0)}});return c.createElement("div",p({ref:u},l),a&&n)},t.LocalizationContext=V,t.Menu=function(e){var n=e.children,r=c.useRef(),o=c.useRef([]),a=c.useContext(h).direction===t.TextDirection.RightToLeft,i=function(e){if(r.current)switch(e.key){case"Tab":e.preventDefault();break;case"ArrowDown":e.preventDefault(),l(function(e,t){return t+1});break;case"ArrowUp":e.preventDefault(),l(function(e,t){return t-1});break;case"End":e.preventDefault(),l(function(e,t){return e.length-1});break;case"Home":e.preventDefault(),l(function(e,t){return 0})}},l=function(e){if(r.current){var t=o.current,n=t.findIndex(function(e){return"0"===e.getAttribute("tabindex")}),a=Math.min(t.length-1,Math.max(0,e(t,n)));n>=0&&n<=t.length-1&&t[n].setAttribute("tabindex","-1"),t[a].setAttribute("tabindex","0"),t[a].focus()}};return v(function(){var e=r.current;if(e){var t=function(e){var t=[];return e.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(n){if(n instanceof HTMLElement){var r=n.parentElement;(r===e||"none"!==window.getComputedStyle(r).display)&&t.push(n)}}),t}(e);o.current=t}},[]),v(function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}},[]),c.createElement("div",{ref:r,"aria-orientation":"vertical",className:g({"rpv-core__menu":!0,"rpv-core__menu--rtl":a}),role:"menu",tabIndex:0},n)},t.MenuDivider=function(){return c.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},t.MenuItem=function(e){var n=e.checked,r=void 0!==n&&n,o=e.children,a=e.icon,i=void 0===a?null:a,l=e.isDisabled,u=void 0!==l&&l,s=e.testId,d=e.onClick,f=c.useContext(h).direction===t.TextDirection.RightToLeft,v=s?{"data-testid":s}:{};return c.createElement("button",p({className:g({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":u,"rpv-core__menu-item--ltr":!f,"rpv-core__menu-item--rtl":f}),role:"menuitem",tabIndex:-1,type:"button",onClick:d},v),c.createElement("div",{className:g({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!f,"rpv-core__menu-item-icon--rtl":f})},i),c.createElement("div",{className:g({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!f,"rpv-core__menu-item-label--rtl":f})},o),c.createElement("div",{className:g({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!f,"rpv-core__menu-item-check--rtl":f})},r&&c.createElement(E,null)))},t.MinimalButton=function(e){var n=e.ariaLabel,r=void 0===n?"":n,o=e.ariaKeyShortcuts,a=void 0===o?"":o,i=e.children,l=e.isDisabled,u=void 0!==l&&l,s=e.isSelected,d=void 0!==s&&s,f=e.testId,v=e.onClick,m=c.useContext(h).direction===t.TextDirection.RightToLeft,w=f?{"data-testid":f}:{};return c.createElement("button",p({"aria-label":r},a&&{"aria-keyshortcuts":a},u&&{"aria-disabled":!0},{className:g({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":u,"rpv-core__minimal-button--rtl":m,"rpv-core__minimal-button--selected":d}),type:"button",onClick:v},w),i)},t.Modal=function(e){var t=e.ariaControlsSuffix,n=e.closeOnClickOutside,r=e.closeOnEscape,o=e.content,a=e.isOpened,i=void 0!==a&&a,l=e.target,u=t||"".concat(z());return c.createElement(J,{target:l?function(e,t){return c.createElement("div",{"aria-expanded":t?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(u)},l(e,t))}:null,content:function(e){return c.createElement(K,null,c.createElement(q,{ariaControlsSuffix:u,closeOnClickOutside:n,closeOnEscape:r,onToggle:e},o(e)))},isOpened:i})},t.Popover=function(e){var t=e.ariaHasPopup,n=void 0===t?"dialog":t,r=e.ariaControlsSuffix,o=e.closeOnClickOutside,a=e.closeOnEscape,i=e.content,l=e.lockScroll,u=void 0===l||l,s=e.offset,d=e.position,p=e.target,f=Z(!1),h=f.opened,g=f.toggle,v=c.useRef(),m=c.useMemo(function(){return r||"".concat(z())},[]);return c.createElement("div",{ref:v,"aria-expanded":h?"true":"false","aria-haspopup":n,"aria-controls":"rpv-core__popver-body-".concat(m)},p(g,h),h&&c.createElement(c.Fragment,null,u&&c.createElement(ie,{closeOnEscape:a,onClose:g}),c.createElement(ae,{ariaControlsSuffix:m,closeOnClickOutside:o,offset:s,position:d,targetRef:v,onClose:g},i(g))))},t.PrimaryButton=y,t.ProgressBar=function(e){var n=e.progress,r=c.useContext(h).direction===t.TextDirection.RightToLeft;return c.createElement("div",{className:g({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":r})},c.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(n,"%")}},n,"%"))},t.Separator=function(){return c.createElement("div",{className:"rpv-core__separator"})},t.Spinner=b,t.Splitter=function(e){var n=e.constrain,r=c.useContext(h).direction===t.TextDirection.RightToLeft,o=c.useRef(),a=c.useRef(),i=c.useRef(),l=c.useRef(0),u=c.useRef(0),s=c.useRef(0),d=c.useRef(0),p={capture:!0},f=function(e){var t=o.current,c=a.current,u=i.current;if(t&&c&&u){var p=d.current,f=e.clientX-l.current,h=s.current+(r?-f:f),g=t.parentElement.getBoundingClientRect().width,v=100*h/g;if(t.classList.add("rpv-core__splitter--resizing"),n){var m=g-h-p;if(!n({firstHalfPercentage:v,firstHalfSize:h,secondHalfPercentage:100*m/g,secondHalfSize:m}))return}c.style.width="".concat(v,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),c.classList.add("rpv-core__splitter-sibling--resizing"),u.classList.add("rpv-core__splitter-sibling--resizing")}},g=function(e){var t=o.current,n=a.current,r=i.current;t&&n&&r&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),t.classList.remove("rpv-core__splitter--resizing"),n.classList.remove("rpv-core__splitter-sibling--resizing"),r.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",f,p),document.removeEventListener("mouseup",g,p))};return c.useEffect(function(){var e=o.current;e&&(d.current=e.getBoundingClientRect().width,a.current=e.previousElementSibling,i.current=e.nextElementSibling)},[]),c.createElement("div",{ref:o,className:"rpv-core__splitter",onMouseDown:function(e){var t=a.current;t&&(l.current=e.clientX,u.current=e.clientY,s.current=t.getBoundingClientRect().width,document.addEventListener("mousemove",f,p),document.addEventListener("mouseup",g,p))}})},t.TextBox=x,t.ThemeContext=h,t.Tooltip=function(e){var n=e.ariaControlsSuffix,r=e.content,o=e.offset,a=e.position,i=e.target,l=Z(!1),u=l.opened,s=l.toggle,d=c.useRef(),p=c.useRef(),f=c.useMemo(function(){return n||"".concat(z())},[]);j(function(){d.current&&document.activeElement&&d.current.contains(document.activeElement)&&g()});var h=function(){s(t.ToggleStatus.Open)},g=function(){s(t.ToggleStatus.Close)};return c.createElement(c.Fragment,null,c.createElement("div",{ref:d,"aria-describedby":"rpv-core__tooltip-body-".concat(f),onBlur:function(e){e.relatedTarget instanceof HTMLElement&&e.currentTarget.parentElement&&e.currentTarget.parentElement.contains(e.relatedTarget)?p.current&&(p.current.style.display="none"):g()},onFocus:h,onMouseEnter:h,onMouseLeave:g},i),u&&c.createElement(ce,{ariaControlsSuffix:f,contentRef:p,offset:o,position:a,targetRef:d},r()))},t.Viewer=function(e){var n=e.characterMap,r=e.defaultScale,o=e.enableSmoothScroll,a=void 0===o||o,i=e.fileUrl,l=e.httpHeaders,u=void 0===l?{}:l,s=e.initialPage,d=void 0===s?0:s,p=e.pageLayout,f=e.initialRotation,g=void 0===f?0:f,v=e.localization,w=e.plugins,E=void 0===w?[]:w,y=e.renderError,b=e.renderLoader,x=e.renderPage,S=e.renderProtectedView,_=e.scrollMode,P=void 0===_?t.ScrollMode.Vertical:_,k=e.setRenderRange,R=void 0===k?Bt:k,M=e.transformGetDocumentParams,C=e.theme,T=void 0===C?{direction:t.TextDirection.LeftToRight,theme:"light"}:C,L=e.viewMode,O=void 0===L?t.ViewMode.SinglePage:L,I=e.withCredentials,D=void 0!==I&&I,N=e.onDocumentAskPassword,A=e.onDocumentLoad,B=void 0===A?function(){}:A,z=e.onPageChange,W=void 0===z?function(){}:z,j=e.onRotate,q=void 0===j?function(){}:j,K=e.onRotatePage,U=void 0===K?function(){}:K,Z=e.onSwitchTheme,J=void 0===Z?function(){}:Z,G=e.onZoom,Y=void 0===G?function(){}:G,X=c.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),Q=X[0],$=X[1],ee=function(e,t){$({data:t,name:e,shouldLoad:!0})},te=c.useState(!1),ne=te[0],re=te[1],oe=F(Q);c.useEffect(function(){var e,t,n,r;e=oe.data,r=typeof(t=i),"string"==(n=typeof e)&&"string"===r&&e===t||"object"===n&&"object"===r&&e.length===t.length&&e.every(function(e,n){return e===t[n]})||$({data:i,name:"string"==typeof i?i:"",shouldLoad:ne})},[i,ne]);var ae=m({onVisibilityChanged:function(e){re(e.isVisible),e.isVisible&&$(function(e){return Object.assign({},e,{shouldLoad:!0})})}}),ie="string"==typeof T?{direction:t.TextDirection.LeftToRight,theme:T}:T,ce=c.useState(v||H),le=ce[0],ue=ce[1],se={l10n:le,setL10n:ue},de=Object.assign({},{direction:ie.direction},function(e,t){var n=c.useMemo(function(){return"auto"===e?"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e},[]),r=c.useState(n),o=r[0],a=r[1],i=F(o);return c.useEffect(function(){if("auto"===e){var t=window.matchMedia("(prefers-color-scheme: dark)"),n=function(e){a(e.matches?"dark":"light")};return t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}}},[]),c.useEffect(function(){o!==i&&t&&t(o)},[o]),c.useEffect(function(){e!==o&&a(e)},[e]),{currentTheme:o,setCurrentTheme:a}}(ie.theme||"light",J));return c.useEffect(function(){v&&ue(v)},[v]),c.createElement(V.Provider,{value:se},c.createElement(h.Provider,{value:de},c.createElement("div",{ref:ae,className:"rpv-core__viewer rpv-core__viewer--".concat(de.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Q.shouldLoad&&c.createElement(Vt,{characterMap:n,file:Q.data,httpHeaders:u,render:function(e){return c.createElement(Ot,{defaultScale:r,doc:e,render:function(n,o){return c.createElement(Tt,{currentFile:{data:Q.data,name:Q.name},defaultScale:r,doc:e,enableSmoothScroll:a,initialPage:d,initialRotation:g,initialScale:o,pageLayout:p,pageSizes:n,plugins:E,renderPage:x,scrollMode:P,setRenderRange:R,viewMode:O,viewerState:{file:Q,fullScreenMode:t.FullScreenMode.Normal,pageIndex:-1,pageHeight:n[0].pageHeight,pageWidth:n[0].pageWidth,pagesRotation:new Map,rotation:g,scale:o,scrollMode:P,viewMode:O},onDocumentLoad:B,onOpenFile:ee,onPageChange:W,onRotate:q,onRotatePage:U,onZoom:Y})},scrollMode:P,viewMode:O})},renderError:y,renderLoader:b,renderProtectedView:S,transformGetDocumentParams:M,withCredentials:D,onDocumentAskPassword:N}))))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return l.GlobalWorkerOptions.workerSrc=n,c.createElement(c.Fragment,null,t)},t.chunk=ue,t.classNames=g,t.createStore=function(e){var t=e||{},n={},r=function(e,r){var o;t=p(p({},t),((o={})[e]=r,o)),(n[e]||[]).forEach(function(n){return n(t[e])})},o=function(e){return t[e]};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter(function(e){return e!==t})},update:function(e,t){r(e,t)},updateCurrentValue:function(e,t){var n=o(e);void 0!==n&&r(e,t(n))},get:function(e){return o(e)}}},t.getDestination=ve,t.getPage=ge,t.isFullScreenEnabled=C,t.isMac=function(){return"undefined"!=typeof window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},t.useDebounceCallback=O,t.useIntersectionObserver=m,t.useIsMounted=I,t.useIsomorphicLayoutEffect=v,t.usePrevious=F,t.useRenderQueue=A}}]);
//# sourceMappingURL=Aja100_25719403.79c3f39a.js.map